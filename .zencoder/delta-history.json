{"snapshots":{"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/Role.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/Role.java","baseContent":"package com.capstone.tele_ticketing_backend_1.entities;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport java.util.Set;\n\n@Entity\n@Table(name = \"roles\")\n@Data\n@NoArgsConstructor\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(unique = true, nullable = false, length = 50)\n    private String name;\n\n    // A role can be assigned to many users\n    @OneToMany(mappedBy = \"role\")\n    private Set<User> users;\n}","baseTimestamp":1761547735065,"deltas":[{"timestamp":1761547744125,"changes":[{"type":"DELETE","lineNumber":19,"oldContent":""},{"type":"DELETE","lineNumber":20,"oldContent":"    // A role can be assigned to many users"},{"type":"INSERT","lineNumber":19,"content":"    "}]},{"timestamp":1761547747355,"changes":[{"type":"MODIFY","lineNumber":19,"content":"","oldContent":"    "}]},{"timestamp":1761548631930,"changes":[{"type":"INSERT","lineNumber":20,"content":"    // A role can be assigned to many users"},{"type":"MODIFY","lineNumber":22,"content":"    private Set<AppUser> users;","oldContent":"    private Set<User> users;"}]},{"timestamp":1761595482544,"changes":[{"type":"MODIFY","lineNumber":18,"content":"    private ERole name;","oldContent":"    private String name;"},{"type":"DELETE","lineNumber":22,"oldContent":"    private Set<User> users;"},{"type":"INSERT","lineNumber":23,"content":"}"}]},{"timestamp":1761641027648,"changes":[{"type":"INSERT","lineNumber":5,"content":"import java.util.HashSet;"},{"type":"INSERT","lineNumber":18,"content":"    @Enumerated(EnumType.STRING)"},{"type":"DELETE","lineNumber":20,"oldContent":"    // A role can be assigned to many users"},{"type":"DELETE","lineNumber":21,"oldContent":"    @OneToMany(mappedBy = \"role\")"},{"type":"INSERT","lineNumber":22,"content":"    // ✅ Now it's a many-to-many, mapped by the 'roles' field in AppUser"},{"type":"INSERT","lineNumber":23,"content":"    @ManyToMany(mappedBy = \"roles\")"},{"type":"INSERT","lineNumber":24,"content":"    private Set<AppUser> users = new HashSet<>();"},{"type":"DELETE","lineNumber":23,"oldContent":"    private Set<AppUser> users;"},{"type":"INSERT","lineNumber":26,"content":""}]},{"timestamp":1761641045964,"changes":[{"type":"MODIFY","lineNumber":19,"content":"    @Column(unique = true, nullable = false, length = 50)","oldContent":"    @Column(unique = true, nullable = false, length = 50)"},{"type":"DELETE","lineNumber":22,"oldContent":"    // ✅ Now it's a many-to-many, mapped by the 'roles' field in AppUser"},{"type":"MODIFY","lineNumber":24,"content":"}","oldContent":"}"}]},{"timestamp":1761643289480,"changes":[{"type":"INSERT","lineNumber":18,"content":"    @Enumerated(EnumType.STRING)"},{"type":"DELETE","lineNumber":19,"oldContent":"    @Column(unique = true, nullable = false, length = 50)"},{"type":"DELETE","lineNumber":21,"oldContent":""},{"type":"DELETE","lineNumber":23,"oldContent":"}"},{"type":"DELETE","lineNumber":24,"oldContent":"    private Set<AppUser> users = new HashSet<>();"}]},{"timestamp":1761643298417,"changes":[{"type":"DELETE","lineNumber":13,"oldContent":""},{"type":"MODIFY","lineNumber":18,"content":"    @Column(length = 20)","oldContent":"    @Column(unique = true, nullable = false, length = 50)"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/User.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/User.java","baseContent":"package com.capstone.tele_ticketing_backend_1.entities;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport java.time.LocalDateTime;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\n@Table(name = \"users\")\n@Data\n@NoArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, nullable = false, length = 100)\n    private String username;\n\n    @Column(nullable = false)\n    private String password;\n\n    @Column(name = \"full_name\", nullable = false)\n    private String fullName;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"role_id\", nullable = false)\n    private Role role;\n\n    // Self-referencing ManyToMany for team structure\n    // 'team_memberships' table links members to their leads\n    @ManyToMany\n    @JoinTable(\n            name = \"team_memberships\",\n            joinColumns = @JoinColumn(name = \"member_id\"),\n            inverseJoinColumns = @JoinColumn(name = \"team_lead_id\")\n    )\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    private Set<User> teamLeads = new HashSet<>();\n\n    @ManyToMany(mappedBy = \"teamLeads\")\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    private Set<User> teamMembers = new HashSet<>();\n\n    // A user can be assigned to many tickets as an engineer\n    @ManyToMany(mappedBy = \"assignedEngineers\")\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    private Set<Ticket> assignedTickets = new HashSet<>();\n\n\n    @CreationTimestamp\n    @Column(name = \"created_at\", updatable = false)\n    private LocalDateTime createdAt;\n\n    @UpdateTimestamp\n    @Column(name = \"updated_at\")\n    private LocalDateTime updatedAt;\n}\n","baseTimestamp":1761547770816},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/Ticket.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/Ticket.java","baseContent":"package com.capstone.tele_ticketing_backend_1.entities;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport java.time.LocalDateTime;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\n@Table(name = \"tickets\")\n@Data\n@NoArgsConstructor\npublic class Ticket {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = \"ticket_uid\", unique = true, nullable = false, length = 50)\n    private String ticketUid;\n\n    @Column(nullable = false)\n    private String title;\n\n    @Lob // For longer text\n    private String description;\n\n    @Column(nullable = false, length = 50)\n    private String status;\n\n    @Column(nullable = false, length = 50)\n    private String priority;\n\n    @Column(nullable = false, length = 50)\n    private String severity;\n\n    private String category;\n\n    @Column(name = \"sub_category\")\n    private String subCategory;\n\n    @Column(name = \"sla_duration_hours\")\n    private Integer slaDurationHours;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"customer_id\", nullable = false)\n    private User customer;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"created_by_user_id\", nullable = false)\n    private User createdBy;\n\n    // Many engineers can be assigned to one ticket\n    @ManyToMany\n    @JoinTable(\n            name = \"ticket_assignments\",\n            joinColumns = @JoinColumn(name = \"ticket_id\"),\n            inverseJoinColumns = @JoinColumn(name = \"engineer_id\")\n    )\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    private Set<User> assignedEngineers = new HashSet<>();\n\n    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set<TicketActivity> activities = new HashSet<>();\n\n    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set<Attachment> attachments = new HashSet<>();\n\n    @OneToOne(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true)\n    private Feedback feedback;\n\n    @Column(name = \"issue_date\")\n    private LocalDateTime issueDate;\n\n    @CreationTimestamp\n    @Column(name = \"created_at\", updatable = false)\n    private LocalDateTime createdAt;\n\n    @UpdateTimestamp\n    @Column(name = \"updated_at\")\n    private LocalDateTime updatedAt;\n\n    @Column(name = \"resolved_at\")\n    private LocalDateTime resolvedAt;\n}","baseTimestamp":1761547833358,"deltas":[{"timestamp":1761551228413,"changes":[{"type":"INSERT","lineNumber":1,"content":"package com.yourcompany.ticketing.entity;"},{"type":"INSERT","lineNumber":10,"content":""},{"type":"DELETE","lineNumber":29,"oldContent":"    @Lob // For longer text"},{"type":"INSERT","lineNumber":31,"content":"    @Lob // Specifies that this should be mapped to a large object type in the DB"},{"type":"DELETE","lineNumber":51,"oldContent":"    private User customer;"},{"type":"INSERT","lineNumber":53,"content":"    private AppUser customer;"},{"type":"DELETE","lineNumber":55,"oldContent":"    private User createdBy;"},{"type":"INSERT","lineNumber":57,"content":"    private AppUser createdBy;"},{"type":"DELETE","lineNumber":57,"oldContent":"    // Many engineers can be assigned to one ticket"},{"type":"INSERT","lineNumber":59,"content":"    // Relationship to assigned engineers (many-to-many)"},{"type":"DELETE","lineNumber":66,"oldContent":"    private Set<User> assignedEngineers = new HashSet<>();"},{"type":"INSERT","lineNumber":68,"content":"    private Set<AppUser> assignedEngineers = new HashSet<>();"},{"type":"DELETE","lineNumber":68,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true)"},{"type":"INSERT","lineNumber":70,"content":"    // Relationship to activities (one-to-many)"},{"type":"INSERT","lineNumber":71,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":72,"content":"    @ToString.Exclude"},{"type":"INSERT","lineNumber":73,"content":"    @EqualsAndHashCode.Exclude"},{"type":"DELETE","lineNumber":71,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true)"},{"type":"INSERT","lineNumber":76,"content":"    // Relationship to attachments (one-to-many)"},{"type":"INSERT","lineNumber":77,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":78,"content":"    @ToString.Exclude"},{"type":"INSERT","lineNumber":79,"content":"    @EqualsAndHashCode.Exclude"},{"type":"DELETE","lineNumber":74,"oldContent":"    @OneToOne(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true)"},{"type":"INSERT","lineNumber":82,"content":"    // Relationship to feedback (one-to-one)"},{"type":"INSERT","lineNumber":83,"content":"    @OneToOne(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":84,"content":"    @ToString.Exclude"},{"type":"INSERT","lineNumber":85,"content":"    @EqualsAndHashCode.Exclude"},{"type":"DELETE","lineNumber":90,"oldContent":"}"},{"type":"INSERT","lineNumber":101,"content":"}}"}]},{"timestamp":1761551233283,"changes":[{"type":"MODIFY","lineNumber":11,"content":"import java.time.LocalDateTime;","oldContent":"import java.time.LocalDateTime;"},{"type":"MODIFY","lineNumber":32,"content":"    private String description;","oldContent":"    private String description;"},{"type":"MODIFY","lineNumber":54,"content":"","oldContent":""},{"type":"DELETE","lineNumber":57,"oldContent":""},{"type":"DELETE","lineNumber":59,"oldContent":"    @ManyToMany"},{"type":"INSERT","lineNumber":58,"content":""},{"type":"INSERT","lineNumber":60,"content":"    @ManyToMany"},{"type":"DELETE","lineNumber":68,"oldContent":""},{"type":"DELETE","lineNumber":70,"oldContent":"    private Set<TicketActivity> activities = new HashSet<>();"},{"type":"INSERT","lineNumber":69,"content":""},{"type":"INSERT","lineNumber":71,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":72,"content":"    @ToString.Exclude"},{"type":"INSERT","lineNumber":73,"content":"    @EqualsAndHashCode.Exclude"},{"type":"INSERT","lineNumber":74,"content":"    private Set<TicketActivity> activities = new HashSet<>();"},{"type":"INSERT","lineNumber":76,"content":"    // Relationship to attachments (one-to-many)"},{"type":"DELETE","lineNumber":75,"oldContent":"    private Set<Attachment> attachments = new HashSet<>();"},{"type":"INSERT","lineNumber":80,"content":"    private Set<Attachment> attachments = new HashSet<>();"},{"type":"INSERT","lineNumber":82,"content":"    // Relationship to feedback (one-to-one)"},{"type":"INSERT","lineNumber":83,"content":"    @OneToOne(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":84,"content":"    @ToString.Exclude"},{"type":"INSERT","lineNumber":85,"content":"    @EqualsAndHashCode.Exclude"},{"type":"DELETE","lineNumber":79,"oldContent":"    // Relationship to attachments (one-to-many)"},{"type":"DELETE","lineNumber":81,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"DELETE","lineNumber":83,"oldContent":"    @ToString.Exclude"},{"type":"DELETE","lineNumber":85,"oldContent":"    @EqualsAndHashCode.Exclude"},{"type":"DELETE","lineNumber":89,"oldContent":"    // Relationship to feedback (one-to-one)"},{"type":"DELETE","lineNumber":91,"oldContent":"    @OneToOne(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"DELETE","lineNumber":93,"oldContent":"    @ToString.Exclude"},{"type":"DELETE","lineNumber":95,"oldContent":"    @EqualsAndHashCode.Exclude"},{"type":"MODIFY","lineNumber":101,"content":"}","oldContent":"}}"}]},{"timestamp":1761551240351,"changes":[{"type":"DELETE","lineNumber":1,"oldContent":"package com.yourcompany.ticketing.entity;"},{"type":"INSERT","lineNumber":9,"content":""},{"type":"DELETE","lineNumber":11,"oldContent":"import java.time.LocalDateTime;"},{"type":"INSERT","lineNumber":30,"content":"    @Lob // Specifies that this should be mapped to a large object type in the DB"},{"type":"DELETE","lineNumber":32,"oldContent":"    private String description;"},{"type":"INSERT","lineNumber":52,"content":"    private AppUser customer;"},{"type":"DELETE","lineNumber":54,"oldContent":""},{"type":"DELETE","lineNumber":57,"oldContent":""},{"type":"DELETE","lineNumber":59,"oldContent":"    @ManyToMany"},{"type":"INSERT","lineNumber":57,"content":""},{"type":"INSERT","lineNumber":59,"content":"    @ManyToMany"},{"type":"DELETE","lineNumber":68,"oldContent":""},{"type":"DELETE","lineNumber":70,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":68,"content":""},{"type":"INSERT","lineNumber":70,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"DELETE","lineNumber":73,"oldContent":""},{"type":"DELETE","lineNumber":75,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"DELETE","lineNumber":77,"oldContent":"    @ToString.Exclude"},{"type":"INSERT","lineNumber":74,"content":""},{"type":"INSERT","lineNumber":76,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":77,"content":"    @ToString.Exclude"},{"type":"DELETE","lineNumber":80,"oldContent":""},{"type":"DELETE","lineNumber":81,"oldContent":"    private Feedback feedback;"},{"type":"DELETE","lineNumber":85,"oldContent":"    @Column(name = \"issue_date\")"},{"type":"DELETE","lineNumber":88,"oldContent":"    private LocalDateTime issueDate;"},{"type":"INSERT","lineNumber":85,"content":"    private Feedback feedback;"},{"type":"INSERT","lineNumber":87,"content":"    @Column(name = \"issue_date\")"},{"type":"INSERT","lineNumber":88,"content":"    private LocalDateTime issueDate;"},{"type":"INSERT","lineNumber":89,"content":""}]},{"timestamp":1761647535003,"changes":[{"type":"MODIFY","lineNumber":9,"content":"","oldContent":""},{"type":"MODIFY","lineNumber":25,"content":"    private String ticketUid;;lpol;p;'.?'","oldContent":"    private String ticketUid;"},{"type":"MODIFY","lineNumber":30,"content":"    @Lob // Specifies that this should be mapped to a large object type in the DB","oldContent":"    @Lob // Specifies that this should be mapped to a large object type in the DB"},{"type":"MODIFY","lineNumber":52,"content":"    private AppUser customer;","oldContent":"    private AppUser customer;"},{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"DELETE","lineNumber":58,"oldContent":"    @ManyToMany"},{"type":"INSERT","lineNumber":57,"content":""},{"type":"INSERT","lineNumber":59,"content":"    @ManyToMany"},{"type":"DELETE","lineNumber":67,"oldContent":""},{"type":"DELETE","lineNumber":69,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":68,"content":""},{"type":"INSERT","lineNumber":70,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"DELETE","lineNumber":72,"oldContent":""},{"type":"DELETE","lineNumber":74,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"DELETE","lineNumber":76,"oldContent":"    @ToString.Exclude"},{"type":"INSERT","lineNumber":74,"content":""},{"type":"INSERT","lineNumber":76,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":77,"content":"    @ToString.Exclude"},{"type":"DELETE","lineNumber":82,"oldContent":"    private Feedback feedback;"},{"type":"DELETE","lineNumber":84,"oldContent":"    @Column(name = \"issue_date\")"},{"type":"DELETE","lineNumber":86,"oldContent":"    private LocalDateTime issueDate;"},{"type":"DELETE","lineNumber":87,"oldContent":""},{"type":"INSERT","lineNumber":85,"content":"    private Feedback feedback;"},{"type":"INSERT","lineNumber":87,"content":"    @Column(name = \"issue_date\")"},{"type":"INSERT","lineNumber":88,"content":"    private LocalDateTime issueDate;"},{"type":"INSERT","lineNumber":89,"content":""}]},{"timestamp":1761647618676,"changes":[{"type":"INSERT","lineNumber":8,"content":"import org.hibernate.annotations.UpdateTimestamp;"},{"type":"DELETE","lineNumber":9,"oldContent":""},{"type":"MODIFY","lineNumber":25,"content":"    private String ticketUid;","oldContent":"    private String ticketUid;;lpol;p;'.?'"},{"type":"INSERT","lineNumber":29,"content":""},{"type":"DELETE","lineNumber":30,"oldContent":"    @Lob // Specifies that this should be mapped to a large object type in the DB"},{"type":"INSERT","lineNumber":51,"content":"    @JoinColumn(name = \"customer_id\", nullable = false)"},{"type":"DELETE","lineNumber":52,"oldContent":"    private AppUser customer;"},{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"DELETE","lineNumber":58,"oldContent":"    @ManyToMany"},{"type":"INSERT","lineNumber":57,"content":""},{"type":"INSERT","lineNumber":59,"content":"    @ManyToMany"},{"type":"DELETE","lineNumber":67,"oldContent":""},{"type":"DELETE","lineNumber":69,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":68,"content":""},{"type":"INSERT","lineNumber":70,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"MODIFY","lineNumber":74,"content":"","oldContent":""},{"type":"INSERT","lineNumber":75,"content":"    // Relationship to attachments (one-to-many)"},{"type":"DELETE","lineNumber":77,"oldContent":"    // Relationship to attachments (one-to-many)"},{"type":"DELETE","lineNumber":83,"oldContent":"    private Feedback feedback;"},{"type":"INSERT","lineNumber":84,"content":"    @EqualsAndHashCode.Exclude"},{"type":"INSERT","lineNumber":85,"content":"    private Feedback feedback;"},{"type":"INSERT","lineNumber":86,"content":""},{"type":"DELETE","lineNumber":87,"oldContent":"    @EqualsAndHashCode.Exclude"},{"type":"DELETE","lineNumber":89,"oldContent":""}]},{"timestamp":1761648427792,"changes":[{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"DELETE","lineNumber":58,"oldContent":"    @ManyToMany"},{"type":"INSERT","lineNumber":57,"content":""},{"type":"INSERT","lineNumber":59,"content":"    @ManyToMany"},{"type":"DELETE","lineNumber":67,"oldContent":""},{"type":"DELETE","lineNumber":69,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":68,"content":""},{"type":"INSERT","lineNumber":70,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":73,"content":"    private Set<TicketActivity> activities = new HashSet<>();"},{"type":"DELETE","lineNumber":74,"oldContent":""},{"type":"MODIFY","lineNumber":84,"content":"    @EqualsAndHashCode.Exclude","oldContent":"    @EqualsAndHashCode.Exclude"},{"type":"MODIFY","lineNumber":87,"content":"    @Column(name = \"issue_date\")","oldContent":"    @Column(name = \"issue_date\")"},{"type":"INSERT","lineNumber":100,"content":""},{"type":"INSERT","lineNumber":101,"content":"    @PostPersist"},{"type":"INSERT","lineNumber":102,"content":"    private void onPostPersist() {"},{"type":"INSERT","lineNumber":103,"content":"        if (this.ticketUid == null) {"},{"type":"INSERT","lineNumber":104,"content":"            this.ticketUid = \"TK\" + (this.id + 1000);"},{"type":"INSERT","lineNumber":105,"content":"        }"},{"type":"INSERT","lineNumber":106,"content":"    }"}]},{"timestamp":1761648436813,"changes":[{"type":"MODIFY","lineNumber":24,"content":"    @Column(name = \"ticket_uid\", unique = true, length = 50)","oldContent":"    @Column(name = \"ticket_uid\", unique = true, nullable = false, length = 50)"},{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"DELETE","lineNumber":58,"oldContent":"    @ManyToMany"},{"type":"INSERT","lineNumber":57,"content":""},{"type":"INSERT","lineNumber":59,"content":"    @ManyToMany"},{"type":"DELETE","lineNumber":67,"oldContent":""},{"type":"DELETE","lineNumber":69,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":68,"content":""},{"type":"INSERT","lineNumber":70,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":83,"content":"    @ToString.Exclude"},{"type":"DELETE","lineNumber":84,"oldContent":"    @EqualsAndHashCode.Exclude"},{"type":"INSERT","lineNumber":86,"content":""},{"type":"DELETE","lineNumber":87,"oldContent":"    @Column(name = \"issue_date\")"},{"type":"DELETE","lineNumber":101,"oldContent":"}"},{"type":"DELETE","lineNumber":103,"oldContent":"    }"},{"type":"MODIFY","lineNumber":105,"content":"        }","oldContent":"        }"},{"type":"INSERT","lineNumber":106,"content":"    }"},{"type":"INSERT","lineNumber":107,"content":"}"}]},{"timestamp":1761649394718,"changes":[{"type":"MODIFY","lineNumber":33,"content":"    @Column(length = 50)","oldContent":"    @Column(nullable = false, length = 50)"},{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"DELETE","lineNumber":58,"oldContent":"    @ManyToMany"},{"type":"INSERT","lineNumber":57,"content":""},{"type":"INSERT","lineNumber":59,"content":"    @ManyToMany"},{"type":"DELETE","lineNumber":67,"oldContent":""},{"type":"DELETE","lineNumber":69,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":68,"content":""},{"type":"INSERT","lineNumber":70,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":103,"content":"        if (this.ticketUid == null) {"},{"type":"INSERT","lineNumber":104,"content":"            this.ticketUid = \"TK\" + (this.id + 1000);"},{"type":"DELETE","lineNumber":105,"oldContent":"        if (this.ticketUid == null) {"},{"type":"DELETE","lineNumber":107,"oldContent":"            this.ticketUid = \"TK\" + (this.id + 1000);"}]},{"timestamp":1761649398158,"changes":[{"type":"MODIFY","lineNumber":36,"content":"    @Column(length = 50)","oldContent":"    @Column(nullable = false, length = 50)"},{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"DELETE","lineNumber":58,"oldContent":"    @ManyToMany"},{"type":"INSERT","lineNumber":57,"content":""},{"type":"INSERT","lineNumber":59,"content":"    @ManyToMany"},{"type":"DELETE","lineNumber":67,"oldContent":""},{"type":"DELETE","lineNumber":69,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":68,"content":""},{"type":"INSERT","lineNumber":70,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"MODIFY","lineNumber":105,"content":"        }","oldContent":"        }"}]},{"timestamp":1761649402760,"changes":[{"type":"MODIFY","lineNumber":39,"content":"    @Column(length = 50)","oldContent":"    @Column(nullable = false, length = 50)"},{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"DELETE","lineNumber":58,"oldContent":"    @ManyToMany"},{"type":"INSERT","lineNumber":57,"content":""},{"type":"INSERT","lineNumber":59,"content":"    @ManyToMany"},{"type":"DELETE","lineNumber":67,"oldContent":""},{"type":"DELETE","lineNumber":69,"oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":68,"content":""},{"type":"INSERT","lineNumber":70,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":104,"content":"            this.ticketUid = \"TK\" + (this.id + 1000);"},{"type":"DELETE","lineNumber":105,"oldContent":"        }"}]},{"timestamp":1761649664451,"changes":[{"type":"MODIFY","lineNumber":41,"content":"    ","oldContent":""},{"type":"INSERT","lineNumber":42,"content":"    "},{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"MODIFY","lineNumber":58,"content":"","oldContent":"    @ManyToMany"},{"type":"INSERT","lineNumber":60,"content":"    @ManyToMany"},{"type":"DELETE","lineNumber":67,"oldContent":""},{"type":"MODIFY","lineNumber":69,"content":"","oldContent":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":71,"content":"    @OneToMany(mappedBy = \"ticket\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)"}]},{"timestamp":1761649670553,"changes":[{"type":"MODIFY","lineNumber":42,"content":"    @Column(nullable = false)","oldContent":"    "}]},{"timestamp":1761649677885,"changes":[{"type":"MODIFY","lineNumber":45,"content":"    @Column(name = \"sub_category\", nullable = false)","oldContent":"    @Column(name = \"sub_category\")"}]},{"timestamp":1761649748387,"changes":[{"type":"MODIFY","lineNumber":41,"content":"","oldContent":"    "}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/ActivityType.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/ActivityType.java","baseContent":"package com.capstone.tele_ticketing_backend_1.entities;\n\npublic enum ActivityType {\n    CREATION,\n    STATUS_CHANGE,\n    ASSIGNMENT,\n    COMMENT,\n    RESOLUTION,\n    REOPENED,\n    ATTACHMENT_ADDED\n}","baseTimestamp":1761547863275,"deltas":[{"timestamp":1761551250409,"changes":[{"type":"INSERT","lineNumber":2,"content":"package com.yourcompany.ticketing.entity;"},{"type":"INSERT","lineNumber":3,"content":""},{"type":"INSERT","lineNumber":7,"content":"    PRIORITY_CHANGE,"}]},{"timestamp":1761551255988,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":"package com.yourcompany.ticketing.entity;"},{"type":"DELETE","lineNumber":4,"oldContent":""},{"type":"INSERT","lineNumber":5,"content":"    PRIORITY_CHANGE,"},{"type":"DELETE","lineNumber":9,"oldContent":"    PRIORITY_CHANGE,"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/TicketActivity.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/TicketActivity.java","baseContent":"package com.capstone.tele_ticketing_backend_1.entities;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.CreationTimestamp;\nimport java.time.LocalDateTime;\n\n@Entity\n@Table(name = \"ticket_activities\")\n@Data\n@NoArgsConstructor\npublic class TicketActivity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"ticket_id\", nullable = false)\n    private Ticket ticket;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"user_id\", nullable = false)\n    private User user;\n\n    @Enumerated(EnumType.STRING) // Maps the Enum to a String column\n    @Column(name = \"activity_type\", nullable = false, length = 50)\n    private ActivityType activityType;\n\n    @Lob\n    @Column(name = \"activity_description\")\n    private String description;\n\n    @CreationTimestamp\n    @Column(name = \"created_at\", updatable = false)\n    private LocalDateTime createdAt;\n}","baseTimestamp":1761547876270,"deltas":[{"timestamp":1761551265049,"changes":[{"type":"INSERT","lineNumber":1,"content":"package com.yourcompany.ticketing.entity;"},{"type":"INSERT","lineNumber":7,"content":""},{"type":"DELETE","lineNumber":24,"oldContent":"    private User user;"},{"type":"INSERT","lineNumber":26,"content":"    private AppUser user;"},{"type":"DELETE","lineNumber":26,"oldContent":"    @Enumerated(EnumType.STRING) // Maps the Enum to a String column"},{"type":"INSERT","lineNumber":28,"content":"    @Enumerated(EnumType.STRING) // Maps the Enum to a String column in the DB"}]},{"timestamp":1761551272060,"changes":[{"type":"DELETE","lineNumber":1,"oldContent":"package com.yourcompany.ticketing.entity;"},{"type":"INSERT","lineNumber":6,"content":""},{"type":"DELETE","lineNumber":9,"oldContent":""},{"type":"DELETE","lineNumber":26,"oldContent":""},{"type":"DELETE","lineNumber":28,"oldContent":"    @Column(name = \"activity_type\", nullable = false, length = 50)"},{"type":"INSERT","lineNumber":26,"content":""},{"type":"INSERT","lineNumber":28,"content":"    @Column(name = \"activity_type\", nullable = false, length = 50)"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/Feedback.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/Feedback.java","baseContent":"package com.capstone.tele_ticketing_backend_1.entities;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.CreationTimestamp;\nimport java.time.LocalDateTime;\n\n@Entity\n@Table(name = \"feedback\")\n@Data\n@NoArgsConstructor\npublic class Feedback {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"ticket_id\", nullable = false, unique = true)\n    private Ticket ticket;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"user_id\", nullable = false)\n    private User user;\n\n    @Column(nullable = false)\n    private Integer rating;\n\n    @Lob\n    private String comment;\n\n    @CreationTimestamp\n    @Column(name = \"created_at\", updatable = false)\n    private LocalDateTime createdAt;\n}\n","baseTimestamp":1761547891616,"deltas":[{"timestamp":1761551284588,"changes":[{"type":"INSERT","lineNumber":1,"content":"package com.yourcompany.ticketing.entity;"},{"type":"INSERT","lineNumber":7,"content":""},{"type":"DELETE","lineNumber":19,"oldContent":"    @JoinColumn(name = \"ticket_id\", nullable = false, unique = true)"},{"type":"INSERT","lineNumber":21,"content":"    @JoinColumn(name = \"ticket_id\", nullable = false, unique = true) // 'unique = true' enforces one feedback per ticket"},{"type":"DELETE","lineNumber":24,"oldContent":"    private User user;"},{"type":"INSERT","lineNumber":26,"content":"    private AppUser user;"},{"type":"DELETE","lineNumber":36,"oldContent":""}]},{"timestamp":1761551288499,"changes":[{"type":"DELETE","lineNumber":1,"oldContent":"package com.yourcompany.ticketing.entity;"},{"type":"INSERT","lineNumber":2,"content":""},{"type":"INSERT","lineNumber":7,"content":""},{"type":"DELETE","lineNumber":9,"oldContent":""},{"type":"MODIFY","lineNumber":22,"content":"    private Ticket ticket;","oldContent":"    private Ticket ticket;"},{"type":"MODIFY","lineNumber":27,"content":"","oldContent":""}]},{"timestamp":1761551314782,"changes":[{"type":"INSERT","lineNumber":21,"content":"    @JoinColumn(name = \"ticket_id\", nullable = false, unique = true) // 'unique = true' enforces one feedback per ticket"},{"type":"DELETE","lineNumber":22,"oldContent":"    private Ticket ticket;"},{"type":"INSERT","lineNumber":26,"content":"    private AppUser user;"},{"type":"DELETE","lineNumber":27,"oldContent":""}]},{"timestamp":1761551352534,"changes":[{"type":"MODIFY","lineNumber":21,"content":"    @JoinColumn(name = \"ticket_id\", nullable = false) // 'unique = true' enforces one feedback per ticket","oldContent":"    @JoinColumn(name = \"ticket_id\", nullable = false, unique = true) // 'unique = true' enforces one feedback per ticket"}]},{"timestamp":1761551356546,"changes":[{"type":"MODIFY","lineNumber":21,"content":"    @JoinColumn(name = \"ticket_id\", nullable = false) ","oldContent":"    @JoinColumn(name = \"ticket_id\", nullable = false) // 'unique = true' enforces one feedback per ticket"}]},{"timestamp":1761551398195,"changes":[{"type":"MODIFY","lineNumber":21,"content":"    @JoinColumn(name = \"ticket_id\", nullable = false)","oldContent":"    @JoinColumn(name = \"ticket_id\", nullable = false) "}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/Attachment.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/Attachment.java","baseContent":"package com.capstone.tele_ticketing_backend_1.entities;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.CreationTimestamp;\nimport java.time.LocalDateTime;\n\n@Entity\n@Table(name = \"attachments\")\n@Data\n@NoArgsConstructor\npublic class Attachment {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"ticket_id\", nullable = false)\n    private Ticket ticket;\n\n    @Column(name = \"file_path\", nullable = false, unique = true)\n    private String filePath;\n\n    @Column(name = \"file_name\", nullable = false)\n    private String fileName;\n\n    @CreationTimestamp\n    @Column(name = \"uploaded_at\", updatable = false)\n    private LocalDateTime uploadedAt;\n}\n","baseTimestamp":1761547907414},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/repo/UserRepo.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/repo/UserRepo.java","baseContent":"package com.capstone.tele_ticketing_backend_1.repo;\n\npublic interface UserRepo  {\n}\n","baseTimestamp":1761548433555,"deltas":[{"timestamp":1761548453202,"changes":[{"type":"MODIFY","lineNumber":2,"content":"import org.springframework.data.jpa.repository.JpaRepository;","oldContent":"public interface UserRepo  {"},{"type":"INSERT","lineNumber":3,"content":""},{"type":"INSERT","lineNumber":4,"content":"public interface UserRepo extends JpaRepository<User> {"}]},{"timestamp":1761548464140,"changes":[{"type":"INSERT","lineNumber":2,"content":"import com.capstone.tele_ticketing_backend_1.entities.User;"},{"type":"DELETE","lineNumber":4,"oldContent":"}"},{"type":"INSERT","lineNumber":6,"content":"}"}]},{"timestamp":1761548595461,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":"import com.capstone.tele_ticketing_backend_1.entities.User;"}]},{"timestamp":1761551880849,"changes":[{"type":"INSERT","lineNumber":2,"content":"import com.capstone.tele_ticketing_backend_1.entities.AppUser;"},{"type":"MODIFY","lineNumber":5,"content":"public interface UserRepo extends JpaRepository<AppUser, Long> {","oldContent":"public interface UserRepo extends JpaRepository<User> {"}]},{"timestamp":1761555006988,"changes":[{"type":"DELETE","lineNumber":5,"oldContent":"public interface UserRepo extends JpaRepository<User> {"},{"type":"INSERT","lineNumber":6,"content":"    Optional<AppUser> findByUsername(String username);"},{"type":"INSERT","lineNumber":7,"content":"}"}]},{"timestamp":1761555012115,"changes":[{"type":"MODIFY","lineNumber":5,"content":"import java.util.Optional;","oldContent":"    Optional<AppUser> findByUsername(String username);"},{"type":"INSERT","lineNumber":6,"content":""},{"type":"INSERT","lineNumber":8,"content":"    @Override"},{"type":"INSERT","lineNumber":9,"content":"    Optional<AppUser> findById(Long aLong);"},{"type":"INSERT","lineNumber":10,"content":""},{"type":"INSERT","lineNumber":11,"content":"    <AppUser> findByUsername(String username);"}]},{"timestamp":1761555018980,"changes":[{"type":"INSERT","lineNumber":8,"content":"    Optional<AppUser> findByUsername(String username);"},{"type":"DELETE","lineNumber":9,"oldContent":"    @Override"},{"type":"DELETE","lineNumber":11,"oldContent":"    Optional<AppUser> findById(Long aLong);"},{"type":"DELETE","lineNumber":12,"oldContent":"    <AppUser> findByUsername(String username);"},{"type":"DELETE","lineNumber":13,"oldContent":""}]},{"timestamp":1761627049917,"changes":[{"type":"INSERT","lineNumber":9,"content":"    Boolean existsByUsername(String username);"}]},{"timestamp":1761634794807,"changes":[{"type":"INSERT","lineNumber":4,"content":"import org.springframework.stereotype.Repository;"},{"type":"INSERT","lineNumber":8,"content":"@Repository"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/AppUser.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/AppUser.java","baseContent":"package com.capstone.tele_ticketing_backend_1.entities;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\nimport java.time.LocalDateTime;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\n@Table(name = \"users\") // The table name in the DB remains \"users\"\n@Data\n@NoArgsConstructor\npublic class AppUser {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, nullable = false, length = 100)\n    private String username;\n\n    @Column(nullable = false)\n    private String password;\n\n    @Column(name = \"full_name\", nullable = false)\n    private String fullName;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"role_id\", nullable = false)\n    private Role role;\n\n    // Self-referencing ManyToMany for team structure\n    @ManyToMany\n    @JoinTable(\n            name = \"team_memberships\",\n            joinColumns = @JoinColumn(name = \"member_id\"),\n            inverseJoinColumns = @JoinColumn(name = \"team_lead_id\")\n    )\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    private Set<AppUser> teamLeads = new HashSet<>();\n\n    @ManyToMany(mappedBy = \"teamLeads\")\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    private Set<AppUser> teamMembers = new HashSet<>();\n\n    // A user can be assigned to many tickets as an engineer\n    @ManyToMany(mappedBy = \"assignedEngineers\")\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    private Set<Ticket> assignedTickets = new HashSet<>();\n\n    @CreationTimestamp\n    @Column(name = \"created_at\", updatable = false)\n    private LocalDateTime createdAt;\n\n    @UpdateTimestamp\n    @Column(name = \"updated_at\")\n    private LocalDateTime updatedAt;\n}\n","baseTimestamp":1761548608963,"deltas":[{"timestamp":1761633700285,"changes":[{"type":"MODIFY","lineNumber":66,"content":"    public AppUser appUser(String username, String Role,)","oldContent":"    public AppUser appUser()"}]},{"timestamp":1761633722308,"changes":[{"type":"MODIFY","lineNumber":66,"content":"    public AppUser appUser(String username, String Role, )","oldContent":"    public AppUser appUser(String username, String Role,)"}]},{"timestamp":1761633825796,"changes":[{"type":"MODIFY","lineNumber":66,"content":"    public AppUser appUser(String username, String password ){","oldContent":"    public AppUser appUser(String username, String Role, )"},{"type":"INSERT","lineNumber":67,"content":"        this.username = username;"},{"type":"INSERT","lineNumber":68,"content":"        this.password = password;"},{"type":"INSERT","lineNumber":69,"content":"    }"}]},{"timestamp":1761633832035,"changes":[{"type":"DELETE","lineNumber":68,"oldContent":"}"},{"type":"DELETE","lineNumber":70,"oldContent":""},{"type":"INSERT","lineNumber":69,"content":"        return"},{"type":"INSERT","lineNumber":71,"content":"}"},{"type":"INSERT","lineNumber":72,"content":""}]},{"timestamp":1761633837669,"changes":[{"type":"MODIFY","lineNumber":66,"content":"    public void appUser(String username, String password ){","oldContent":"    public AppUser appUser(String username, String password ){"},{"type":"DELETE","lineNumber":68,"oldContent":"        return"},{"type":"DELETE","lineNumber":70,"oldContent":"}"},{"type":"INSERT","lineNumber":69,"content":"        return"},{"type":"INSERT","lineNumber":71,"content":"}"}]},{"timestamp":1761633847830,"changes":[{"type":"MODIFY","lineNumber":65,"content":"","oldContent":"    "},{"type":"DELETE","lineNumber":68,"oldContent":"        return"},{"type":"DELETE","lineNumber":70,"oldContent":"}"},{"type":"INSERT","lineNumber":69,"content":"        return"},{"type":"INSERT","lineNumber":71,"content":"}"}]},{"timestamp":1761633852737,"changes":[{"type":"MODIFY","lineNumber":66,"content":"    public AppUser(String username, String password ){","oldContent":"    public void appUser(String username, String password ){"},{"type":"DELETE","lineNumber":68,"oldContent":"        return"},{"type":"DELETE","lineNumber":70,"oldContent":"}"},{"type":"INSERT","lineNumber":69,"content":"        return"},{"type":"INSERT","lineNumber":71,"content":"}"}]},{"timestamp":1761633855760,"changes":[{"type":"DELETE","lineNumber":68,"oldContent":"        return"},{"type":"MODIFY","lineNumber":70,"content":"}","oldContent":"}"}]},{"timestamp":1761634190385,"changes":[{"type":"MODIFY","lineNumber":70,"content":"}","oldContent":"}"}]},{"timestamp":1761634224621,"changes":[{"type":"INSERT","lineNumber":11,"content":"import java.util.List;"},{"type":"MODIFY","lineNumber":35,"content":"    private List<Role> roles;","oldContent":"    private Role role;"},{"type":"INSERT","lineNumber":70,"content":"    }"},{"type":"DELETE","lineNumber":70,"oldContent":"}"}]},{"timestamp":1761634308829,"changes":[{"type":"DELETE","lineNumber":35,"oldContent":"    private Role role;"},{"type":"MODIFY","lineNumber":35,"content":"    private Set<Role> roles;","oldContent":"    private List<Role> roles;"},{"type":"INSERT","lineNumber":36,"content":""},{"type":"MODIFY","lineNumber":71,"content":"}","oldContent":"}"}]},{"timestamp":1761640862592,"changes":[{"type":"DELETE","lineNumber":33,"oldContent":"    @ManyToOne(fetch = FetchType.LAZY)"},{"type":"DELETE","lineNumber":34,"oldContent":"    @JoinColumn(name = \"role_id\", nullable = false)"},{"type":"DELETE","lineNumber":35,"oldContent":"    private Set<Role> roles;"},{"type":"DELETE","lineNumber":36,"oldContent":"    private List<Role> roles;"},{"type":"INSERT","lineNumber":33,"content":"    @ManyToMany(fetch = FetchType.LAZY)"},{"type":"INSERT","lineNumber":34,"content":"    @JoinTable("},{"type":"INSERT","lineNumber":35,"content":"            name = \"user_roles\","},{"type":"INSERT","lineNumber":36,"content":"            joinColumns = @JoinColumn(name = \"user_id\"),"},{"type":"INSERT","lineNumber":37,"content":"            inverseJoinColumns = @JoinColumn(name = \"role_id\")"},{"type":"INSERT","lineNumber":38,"content":"    )"},{"type":"INSERT","lineNumber":39,"content":"    private Set<Role> roles = new HashSet<>();"},{"type":"INSERT","lineNumber":40,"content":""},{"type":"INSERT","lineNumber":41,"content":""},{"type":"INSERT","lineNumber":75,"content":"    }"},{"type":"DELETE","lineNumber":71,"oldContent":"}"}]},{"timestamp":1761640958785,"changes":[{"type":"DELETE","lineNumber":33,"oldContent":"    @ManyToMany(fetch = FetchType.LAZY)"},{"type":"DELETE","lineNumber":34,"oldContent":"    @JoinTable("},{"type":"DELETE","lineNumber":35,"oldContent":"            name = \"user_roles\","},{"type":"DELETE","lineNumber":36,"oldContent":"            joinColumns = @JoinColumn(name = \"user_id\"),"},{"type":"DELETE","lineNumber":37,"oldContent":"            inverseJoinColumns = @JoinColumn(name = \"role_id\")"},{"type":"INSERT","lineNumber":33,"content":"package com.capstone.tele_ticketing_backend_1.entities;"},{"type":"INSERT","lineNumber":34,"content":""},{"type":"INSERT","lineNumber":35,"content":"import jakarta.persistence.*;"},{"type":"INSERT","lineNumber":36,"content":"import lombok.Data;"},{"type":"INSERT","lineNumber":37,"content":"import lombok.NoArgsConstructor;"},{"type":"INSERT","lineNumber":38,"content":"import java.util.Set;"},{"type":"INSERT","lineNumber":39,"content":""},{"type":"INSERT","lineNumber":40,"content":"    @Entity"},{"type":"INSERT","lineNumber":41,"content":"    @Table(name = \"roles\")"},{"type":"INSERT","lineNumber":42,"content":"    @Data"},{"type":"INSERT","lineNumber":43,"content":"    @NoArgsConstructor"},{"type":"INSERT","lineNumber":44,"content":"    public class Role {"},{"type":"INSERT","lineNumber":45,"content":""},{"type":"INSERT","lineNumber":46,"content":"        @Id"},{"type":"INSERT","lineNumber":47,"content":"        @GeneratedValue(strategy = GenerationType.IDENTITY)"},{"type":"INSERT","lineNumber":48,"content":"        private Integer id;"},{"type":"INSERT","lineNumber":49,"content":""},{"type":"INSERT","lineNumber":50,"content":"        @Column(unique = true, nullable = false, length = 50)"},{"type":"INSERT","lineNumber":51,"content":"        private ERole name;"},{"type":"INSERT","lineNumber":52,"content":""},{"type":"INSERT","lineNumber":53,"content":"        // A role can be assigned to many users"},{"type":"INSERT","lineNumber":54,"content":"        @OneToMany(mappedBy = \"role\")"},{"type":"INSERT","lineNumber":55,"content":"        private Set<AppUser> users;"},{"type":"INSERT","lineNumber":56,"content":"    }"},{"type":"INSERT","lineNumber":57,"content":""},{"type":"INSERT","lineNumber":58,"content":""},{"type":"DELETE","lineNumber":39,"oldContent":"    )"},{"type":"DELETE","lineNumber":41,"oldContent":"    private Set<Role> roles = new HashSet<>();"},{"type":"DELETE","lineNumber":43,"oldContent":""},{"type":"DELETE","lineNumber":45,"oldContent":""},{"type":"INSERT","lineNumber":92,"content":"    }"},{"type":"DELETE","lineNumber":77,"oldContent":"    }"}]},{"timestamp":1761640967861,"changes":[{"type":"MODIFY","lineNumber":33,"content":"    @ManyToMany(fetch = FetchType.LAZY)","oldContent":"package com.capstone.tele_ticketing_backend_1.entities;"},{"type":"INSERT","lineNumber":34,"content":"    @JoinTable("},{"type":"INSERT","lineNumber":35,"content":"            name = \"user_roles\","},{"type":"INSERT","lineNumber":36,"content":"            joinColumns = @JoinColumn(name = \"user_id\"),"},{"type":"INSERT","lineNumber":37,"content":"            inverseJoinColumns = @JoinColumn(name = \"role_id\")"},{"type":"INSERT","lineNumber":38,"content":"    )"},{"type":"INSERT","lineNumber":39,"content":"    private Set<Role> roles = new HashSet<>();"},{"type":"DELETE","lineNumber":35,"oldContent":"import jakarta.persistence.*;"},{"type":"DELETE","lineNumber":36,"oldContent":"import lombok.Data;"},{"type":"DELETE","lineNumber":37,"oldContent":"import lombok.NoArgsConstructor;"},{"type":"DELETE","lineNumber":38,"oldContent":"import java.util.Set;"},{"type":"DELETE","lineNumber":39,"oldContent":"    // Self-referencing ManyToMany for team structure"},{"type":"DELETE","lineNumber":41,"oldContent":"    @Entity"},{"type":"INSERT","lineNumber":42,"content":"    // Self-referencing ManyToMany for team structure"},{"type":"DELETE","lineNumber":43,"oldContent":"    @Table(name = \"roles\")"},{"type":"DELETE","lineNumber":44,"oldContent":"    @Data"},{"type":"DELETE","lineNumber":46,"oldContent":"    @NoArgsConstructor"},{"type":"DELETE","lineNumber":47,"oldContent":"    public class Role {"},{"type":"DELETE","lineNumber":49,"oldContent":""},{"type":"DELETE","lineNumber":50,"oldContent":"        @Id"},{"type":"DELETE","lineNumber":52,"oldContent":"        @GeneratedValue(strategy = GenerationType.IDENTITY)"},{"type":"DELETE","lineNumber":54,"oldContent":"        private Integer id;"},{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"DELETE","lineNumber":58,"oldContent":"        @Column(unique = true, nullable = false, length = 50)"},{"type":"DELETE","lineNumber":60,"oldContent":"        private ERole name;"},{"type":"DELETE","lineNumber":63,"oldContent":""},{"type":"DELETE","lineNumber":64,"oldContent":"        // A role can be assigned to many users"},{"type":"DELETE","lineNumber":66,"oldContent":"        @OneToMany(mappedBy = \"role\")"},{"type":"DELETE","lineNumber":68,"oldContent":"        private Set<AppUser> users;"},{"type":"DELETE","lineNumber":70,"oldContent":"    }"},{"type":"DELETE","lineNumber":73,"oldContent":""},{"type":"DELETE","lineNumber":74,"oldContent":""},{"type":"INSERT","lineNumber":75,"content":"    }"},{"type":"DELETE","lineNumber":94,"oldContent":"    }"}]},{"timestamp":1761642753231,"changes":[{"type":"INSERT","lineNumber":34,"content":"    @Enumerated"},{"type":"DELETE","lineNumber":35,"oldContent":""},{"type":"INSERT","lineNumber":42,"content":""},{"type":"DELETE","lineNumber":58,"oldContent":"    }"},{"type":"INSERT","lineNumber":76,"content":"    }"}]},{"timestamp":1761642758421,"changes":[{"type":"MODIFY","lineNumber":34,"content":"    @Enumerated(EnumType.ORDINAL)","oldContent":"    @Enumerated"}]},{"timestamp":1761642763308,"changes":[{"type":"MODIFY","lineNumber":34,"content":"    @Enumerated(EnumType.STRING)","oldContent":"    @Enumerated(EnumType.ORDINAL)"}]},{"timestamp":1761643047643,"changes":[{"type":"DELETE","lineNumber":34,"oldContent":"    @Enumerated(EnumType.STRING)"},{"type":"DELETE","lineNumber":35,"oldContent":"    @JoinTable("},{"type":"DELETE","lineNumber":36,"oldContent":"            name = \"user_roles\","},{"type":"DELETE","lineNumber":37,"oldContent":"            joinColumns = @JoinColumn(name = \"user_id\"),"},{"type":"DELETE","lineNumber":38,"oldContent":"            inverseJoinColumns = @JoinColumn(name = \"role_id\")"},{"type":"DELETE","lineNumber":39,"oldContent":"    )"},{"type":"INSERT","lineNumber":34,"content":"    @JoinTable(name = \"user_roles\", joinColumns = @JoinColumn(name = \"user_id\"), inverseJoinColumns = @JoinColumn(name = \"role_id\"))"},{"type":"INSERT","lineNumber":35,"content":"    @ToString.Exclude"}]},{"timestamp":1761643474041,"changes":[{"type":"MODIFY","lineNumber":69,"content":"    public AppUser(String username, String password, String fullName ){","oldContent":"    public AppUser(String username, String password ){"},{"type":"MODIFY","lineNumber":74,"content":"","oldContent":"    }"}]},{"timestamp":1761643482630,"changes":[{"type":"INSERT","lineNumber":72,"content":"        this.fullName = fullName;"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/dto/LoginRequest.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/dto/LoginRequest.java","baseContent":"package com.capstone.tele_ticketing_backend_1.dto;\n\npackage com.yourcompany.ticketing.dto;\n\nimport lombok.Data;\n\n@Data\npublic class LoginRequest {\n    private String username;\n    private String password;\n}\n","baseTimestamp":1761554858850,"deltas":[{"timestamp":1761554863706,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":"package com.yourcompany.ticketing.dto;"},{"type":"DELETE","lineNumber":3,"oldContent":""}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/dto/LoginResponse.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/dto/LoginResponse.java","baseContent":"package com.capstone.tele_ticketing_backend_1.dto;\n\npackage com.yourcompany.ticketing.dto;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\n\n@Data\n@AllArgsConstructor // Useful for creating instances easily\npublic class LoginResponse {\n    private boolean success;\n    private String message;\n    private String role; // Will be null on failure\n}","baseTimestamp":1761555207718,"deltas":[{"timestamp":1761555211215,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":"package com.yourcompany.ticketing.dto;"},{"type":"DELETE","lineNumber":3,"oldContent":""}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/config/AppConfig.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/config/AppConfig.java","baseContent":"package com.capstone.tele_ticketing_backend_1.config;\n\npackage com.yourcompany.ticketing.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@Configuration\npublic class AppConfig {\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n","baseTimestamp":1761555850671,"deltas":[{"timestamp":1761555853383,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":"package com.yourcompany.ticketing.config;"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/AuthService.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/AuthService.java","baseContent":"package com.capstone.tele_ticketing_backend_1.security;\n\npackage com.yourcompany.ticketing.service;\n\nimport com.yourcompany.ticketing.dto.LoginRequest;\nimport com.yourcompany.ticketing.dto.LoginResponse;\nimport com.yourcompany.ticketing.entity.AppUser;\nimport com.yourcompany.ticketing.repository.AppUserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport java.util.Optional;\n\n@Service\npublic class AuthService {\n\n    @Autowired\n    private AppUserRepository appUserRepository;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    public LoginResponse login(LoginRequest loginRequest) {\n        // 1. Find the user by username\n        Optional<AppUser> userOptional = appUserRepository.findByUsername(loginRequest.getUsername());\n\n        // 2. Check if user exists\n        if (userOptional.isEmpty()) {\n            return new LoginResponse(false, \"Invalid username or password.\", null);\n        }\n\n        AppUser user = userOptional.get();\n\n        // 3. Compare the provided password with the stored hashed password\n        if (passwordEncoder.matches(loginRequest.getPassword(), user.getPassword())) {\n            // Passwords match\n            String role = user.getRole().getName();\n            return new LoginResponse(true, \"Login successful.\", role);\n        } else {\n            // Passwords do not match\n            return new LoginResponse(false, \"Invalid username or password.\", null);\n        }\n    }\n}\n","baseTimestamp":1761555871145,"deltas":[{"timestamp":1761555874464,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":"package com.yourcompany.ticketing.service;"}]},{"timestamp":1761555894821,"changes":[{"type":"DELETE","lineNumber":3,"oldContent":"import com.yourcompany.ticketing.dto.LoginRequest;"},{"type":"DELETE","lineNumber":4,"oldContent":"import com.yourcompany.ticketing.dto.LoginResponse;"},{"type":"DELETE","lineNumber":5,"oldContent":"import com.yourcompany.ticketing.entity.AppUser;"},{"type":"DELETE","lineNumber":6,"oldContent":"import com.yourcompany.ticketing.repository.AppUserRepository;"},{"type":"INSERT","lineNumber":3,"content":"import com.capstone.tele_ticketing_backend_1.repo.UserRepo;"},{"type":"DELETE","lineNumber":16,"oldContent":"    private AppUserRepository appUserRepository;"},{"type":"INSERT","lineNumber":13,"content":"    private UserRepo appUserRepository;"}]},{"timestamp":1761555898407,"changes":[{"type":"DELETE","lineNumber":10,"oldContent":"    private UserRepo appUserRepository;"},{"type":"INSERT","lineNumber":13,"content":"    private UserRepo appUserRepository;"}]},{"timestamp":1761555902381,"changes":[{"type":"MODIFY","lineNumber":13,"content":"    private UserRepo appUserRepository;","oldContent":"    private UserRepo appUserRepository;"}]},{"timestamp":1761555904999,"changes":[{"type":"INSERT","lineNumber":3,"content":"import com.capstone.tele_ticketing_backend_1.dto.LoginResponse;"},{"type":"INSERT","lineNumber":13,"content":"    @Autowired"},{"type":"DELETE","lineNumber":13,"oldContent":"    private UserRepo appUserRepository;"}]},{"timestamp":1761555908107,"changes":[{"type":"INSERT","lineNumber":3,"content":"import com.capstone.tele_ticketing_backend_1.dto.LoginRequest;"},{"type":"DELETE","lineNumber":13,"oldContent":"    private UserRepo appUserRepository;"},{"type":"INSERT","lineNumber":15,"content":"    private UserRepo appUserRepository;"}]},{"timestamp":1761555911302,"changes":[{"type":"INSERT","lineNumber":5,"content":"import com.capstone.tele_ticketing_backend_1.entities.AppUser;"}]},{"timestamp":1761626779022,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":""},{"type":"DELETE","lineNumber":3,"oldContent":"import com.capstone.tele_ticketing_backend_1.dto.LoginRequest;"},{"type":"DELETE","lineNumber":4,"oldContent":"import com.capstone.tele_ticketing_backend_1.dto.LoginResponse;"},{"type":"INSERT","lineNumber":2,"content":"import com.capstone.tele_ticketing_backend_1.security.payload.request.LoginRequest;"},{"type":"INSERT","lineNumber":3,"content":"import com.capstone.tele_ticketing_backend_1.security.payload.response.MessageResponse;"}]},{"timestamp":1761626794243,"changes":[{"type":"MODIFY","lineNumber":20,"content":"    public MessageResponse login(LoginRequest loginRequest) {","oldContent":"    public LoginResponse login(LoginRequest loginRequest) {"},{"type":"MODIFY","lineNumber":26,"content":"            return new MessageResponse(\"Invalid username or password.\");","oldContent":"            return new LoginResponse(false, \"Invalid username or password.\", null);"},{"type":"DELETE","lineNumber":34,"oldContent":"            String role = user.getRole().getName();"},{"type":"MODIFY","lineNumber":34,"content":"            return new MessageResponse(\"Login successful.\");","oldContent":"            return new LoginResponse(true, \"Login successful.\", role);"},{"type":"MODIFY","lineNumber":37,"content":"            return new MessageResponse(\"Invalid username or password.\");","oldContent":"            return new LoginResponse(false, \"Invalid username or password.\", null);"}]},{"timestamp":1761626929645,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":"import com.capstone.tele_ticketing_backend_1.security.payload.request.LoginRequest;"},{"type":"DELETE","lineNumber":3,"oldContent":"import com.capstone.tele_ticketing_backend_1.security.payload.response.MessageResponse;"},{"type":"DELETE","lineNumber":4,"oldContent":"import com.capstone.tele_ticketing_backend_1.entities.AppUser;"},{"type":"DELETE","lineNumber":5,"oldContent":"import com.capstone.tele_ticketing_backend_1.repo.UserRepo;"},{"type":"INSERT","lineNumber":2,"content":"import java.util.Optional;"},{"type":"INSERT","lineNumber":3,"content":""},{"type":"DELETE","lineNumber":9,"oldContent":"import java.util.Optional;"},{"type":"INSERT","lineNumber":8,"content":"import com.capstone.tele_ticketing_backend_1.entities.AppUser;"},{"type":"INSERT","lineNumber":9,"content":"import com.capstone.tele_ticketing_backend_1.repo.UserRepo;"},{"type":"INSERT","lineNumber":10,"content":"import com.capstone.tele_ticketing_backend_1.security.payload.request.LoginRequest;"},{"type":"INSERT","lineNumber":11,"content":"import com.capstone.tele_ticketing_backend_1.security.payload.response.MessageResponse;"},{"type":"INSERT","lineNumber":12,"content":""},{"type":"INSERT","lineNumber":38,"content":"            // Passwords do not match"},{"type":"DELETE","lineNumber":37,"oldContent":"            return new LoginResponse(false, \"Invalid username or password.\", null);"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/controller/AuhthController.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/controller/AuhthController.java","baseContent":"package com.capstone.tele_ticketing_backend_1.controller;\n\npackage com.yourcompany.ticketing.controller;\n\nimport com.yourcompany.ticketing.dto.LoginRequest;\nimport com.yourcompany.ticketing.dto.LoginResponse;\nimport com.yourcompany.ticketing.service.AuthService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(\"/api/auth\")\npublic class AuthController {\n\n    @Autowired\n    private AuthService authService;\n\n    @PostMapping(\"/login\")\n    public ResponseEntity<LoginResponse> login(@RequestBody LoginRequest loginRequest) {\n        LoginResponse response = authService.login(loginRequest);\n\n        if (response.isSuccess()) {\n            return ResponseEntity.ok(response);\n        } else {\n            // Use 401 Unauthorized for failed login attempts\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(response);\n        }\n    }\n}\n","baseTimestamp":1761555943191,"deltas":[{"timestamp":1761555946222,"changes":[{"type":"DELETE","lineNumber":4,"oldContent":"import com.yourcompany.ticketing.dto.LoginRequest;"},{"type":"DELETE","lineNumber":5,"oldContent":"import com.yourcompany.ticketing.dto.LoginResponse;"},{"type":"DELETE","lineNumber":6,"oldContent":"import com.yourcompany.ticketing.service.AuthService;"}]},{"timestamp":1761555948594,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":"package com.yourcompany.ticketing.controller;"},{"type":"DELETE","lineNumber":3,"oldContent":""}]},{"timestamp":1761555964886,"changes":[{"type":"INSERT","lineNumber":2,"content":"import com.capstone.tele_ticketing_backend_1.security.AuthService;"}]},{"timestamp":1761555968445,"changes":[{"type":"INSERT","lineNumber":2,"content":"import com.capstone.tele_ticketing_backend_1.dto.LoginResponse;"}]},{"timestamp":1761555975012,"changes":[{"type":"INSERT","lineNumber":2,"content":"import com.capstone.tele_ticketing_backend_1.dto.LoginRequest;"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/config/SecurityConfig.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/config/SecurityConfig.java","baseContent":"package com.capstone.tele_ticketing_backend_1.config;\n\npackage com.yourcompany.ticketing.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                // 1. Disable CSRF protection\n                .csrf(csrf -> csrf.disable())\n\n                // 2. Set authorization rules\n                .authorizeHttpRequests(auth -> auth\n                        // That's the magic line: it permits ALL requests without authentication.\n                        .anyRequest().permitAll()\n                );\n\n        return http.build();\n    }\n}\n","baseTimestamp":1761556027378,"deltas":[{"timestamp":1761556030385,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":"package com.yourcompany.ticketing.config;"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/resources/application.properties":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/resources/application.properties","baseContent":"spring.application.name=tele-ticketing-backend-1\nspring.datasource.url=jdbc:mysql://localhost:3306/springsecuritybasics?createDatabaseIfNotExist=true\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect","baseTimestamp":1761556585982,"deltas":[{"timestamp":1761556589061,"changes":[{"type":"MODIFY","lineNumber":1,"content":"spring.datasource.url=jdbc:mysql://localhost:3306/tele?createDatabaseIfNotExist=true","oldContent":"spring.datasource.url=jdbc:mysql://localhost:3306/springsecuritybasics?createDatabaseIfNotExist=true"}]},{"timestamp":1761556595793,"changes":[{"type":"MODIFY","lineNumber":1,"content":"spring.datasource.url=jdbc:mysql://localhost:3306/tele_ticketing_1?createDatabaseIfNotExist=true","oldContent":"spring.datasource.url=jdbc:mysql://localhost:3306/tele?createDatabaseIfNotExist=true"}]},{"timestamp":1761556910617,"changes":[{"type":"INSERT","lineNumber":5,"content":"spring.jpa.hibernate.ddl-auto=update"}]},{"timestamp":1761641198928,"changes":[{"type":"MODIFY","lineNumber":5,"content":"spring.jpa.hibernate.ddl-auto=","oldContent":"spring.jpa.hibernate.ddl-auto=update"},{"type":"INSERT","lineNumber":6,"content":""},{"type":"INSERT","lineNumber":7,"content":""},{"type":"INSERT","lineNumber":8,"content":"jwtSecret: BLUEYONDERBELLANDURBENGALURUBLUEYONDERBELLANDURBENGALURUBLUEYONDERBELLANDURBENGALURUBENGALURUBLUEYONDERBELLANDURBENGALURUBENGALURUBLUEYONDERBELLANDURBENGALURU"},{"type":"INSERT","lineNumber":9,"content":"jwtExpirationMs: 86400000"}]},{"timestamp":1761641223617,"changes":[{"type":"DELETE","lineNumber":7,"oldContent":"jwtExpirationMs: 86400000"},{"type":"MODIFY","lineNumber":8,"content":"jwtExpirationMs: 86400000","oldContent":""}]},{"timestamp":1761641608282,"changes":[{"type":"MODIFY","lineNumber":5,"content":"spring.jpa.hibernate.ddl-auto=true","oldContent":"spring.jpa.hibernate.ddl-auto="},{"type":"MODIFY","lineNumber":8,"content":"jwtExpirationMs: 86400000","oldContent":"jwtExpirationMs: 86400000"}]},{"timestamp":1761641729240,"changes":[{"type":"MODIFY","lineNumber":5,"content":"spring.jpa.hibernate.ddl-auto=update","oldContent":"spring.jpa.hibernate.ddl-auto=true"},{"type":"INSERT","lineNumber":6,"content":"spring.jpa.hibernate"},{"type":"INSERT","lineNumber":8,"content":"jwtSecret: BLUEYONDERBELLANDURBENGALURUBLUEYONDERBELLANDURBENGALURUBLUEYONDERBELLANDURBENGALURUBENGALURUBLUEYONDERBELLANDURBENGALURUBENGALURUBLUEYONDERBELLANDURBENGALURU"},{"type":"DELETE","lineNumber":8,"oldContent":"jwtExpirationMs: 86400000"}]},{"timestamp":1761641739962,"changes":[{"type":"MODIFY","lineNumber":6,"content":"spring.jpa.show-sql=true","oldContent":"spring.jpa.hibernate"},{"type":"MODIFY","lineNumber":9,"content":"jwtExpirationMs: 86400000","oldContent":"jwtExpirationMs: 86400000"}]},{"timestamp":1761678321446,"changes":[{"type":"INSERT","lineNumber":1,"content":"server.port=3000"},{"type":"INSERT","lineNumber":9,"content":"jwtSecret: BLUEYONDERBELLANDURBENGALURUBLUEYONDERBELLANDURBENGALURUBLUEYONDERBELLANDURBENGALURUBENGALURUBLUEYONDERBELLANDURBENGALURUBENGALURUBLUEYONDERBELLANDURBENGALURU"},{"type":"DELETE","lineNumber":9,"oldContent":"jwtExpirationMs: 86400000"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/repo/RoleRepo.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/repo/RoleRepo.java","baseContent":"package com.capstone.tele_ticketing_backend_1.repo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface RoleRepo extends JpaRepository<> {\n}\n","baseTimestamp":1761590600354,"deltas":[{"timestamp":1761590609194,"changes":[{"type":"INSERT","lineNumber":2,"content":"import com.capstone.tele_ticketing_backend_1.entities.Role;"},{"type":"MODIFY","lineNumber":5,"content":"public interface RoleRepo extends JpaRepository<Role, Long> {","oldContent":"public interface RoleRepo extends JpaRepository<> {"},{"type":"INSERT","lineNumber":6,"content":"    "}]},{"timestamp":1761590694047,"changes":[{"type":"DELETE","lineNumber":5,"oldContent":"public interface RoleRepo extends JpaRepository<> {"},{"type":"MODIFY","lineNumber":7,"content":"}","oldContent":"    "},{"type":"INSERT","lineNumber":8,"content":""}]},{"timestamp":1761627064954,"changes":[{"type":"INSERT","lineNumber":2,"content":"import com.capstone.tele_ticketing_backend_1.entities.ERole;"},{"type":"DELETE","lineNumber":5,"oldContent":"public interface RoleRepo extends JpaRepository<Role, Long> {"},{"type":"INSERT","lineNumber":6,"content":"import java.util.Optional;"},{"type":"INSERT","lineNumber":7,"content":""},{"type":"INSERT","lineNumber":8,"content":"public interface RoleRepo extends JpaRepository<Role, Integer> {"},{"type":"INSERT","lineNumber":9,"content":"    Optional<Role> findByName(ERole name);"},{"type":"DELETE","lineNumber":8,"oldContent":""}]},{"timestamp":1761627413052,"changes":[{"type":"DELETE","lineNumber":7,"oldContent":"}"},{"type":"DELETE","lineNumber":9,"oldContent":""},{"type":"INSERT","lineNumber":10,"content":"}"},{"type":"INSERT","lineNumber":11,"content":""}]},{"timestamp":1761634789793,"changes":[{"type":"INSERT","lineNumber":5,"content":"import org.springframework.stereotype.Repository;"},{"type":"DELETE","lineNumber":8,"oldContent":"}"},{"type":"DELETE","lineNumber":9,"oldContent":"public interface RoleRepo extends JpaRepository<Role, Integer> {"},{"type":"INSERT","lineNumber":10,"content":"@Repository"},{"type":"INSERT","lineNumber":11,"content":"public interface RoleRepo extends JpaRepository<Role, Integer> {"},{"type":"INSERT","lineNumber":13,"content":"}"},{"type":"INSERT","lineNumber":14,"content":""}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/jwt/AuthTokenFilter.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/jwt/AuthTokenFilter.java","baseContent":"package com.capstone.tele_ticketing_backend_1.security.jwt;\n\n\nimport com.capstone.tele_ticketing_backend_1.security.service.UserDetailsServiceImpl;\nimport com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsServiceImpl;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\n\npublic class AuthTokenFilter extends OncePerRequestFilter {\n  @Autowired\n  private JwtUtils jwtUtils;\n\n  @Autowired\n  private UserDetailsServiceImpl userDetailsService;\n\n  private static final Logger logger = LoggerFactory.getLogger(AuthTokenFilter.class);\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n      throws ServletException, IOException {\n    try {\n      String jwt = parseJwt(request);\n      if (jwt != null && jwtUtils.validateJwtToken(jwt)) {\n        String username = jwtUtils.getUserNameFromJwtToken(jwt);\n        //Validate user specific keys\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n        UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null,\n            userDetails.getAuthorities());\n        authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n      }\n    } catch (Exception e) {\n      logger.error(\"Cannot set user authentication: {}\", e);\n    }\n\n    filterChain.doFilter(request, response);\n  }\n\n  private String parseJwt(HttpServletRequest request) {\n    String headerAuth = request.getHeader(\"Authorization\");\n\n    if (StringUtils.hasText(headerAuth) && headerAuth.startsWith(\"Bearer \")) {\n      return headerAuth.substring(7, headerAuth.length());\n    }\n\n    return null;\n  }\n}","baseTimestamp":1761593775957,"deltas":[{"timestamp":1761593784281,"changes":[{"type":"DELETE","lineNumber":4,"oldContent":"import com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsServiceImpl;"}]},{"timestamp":1761628303576,"changes":[{"type":"INSERT","lineNumber":4,"content":"import com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsServiceImpl;"}]},{"timestamp":1761628319861,"changes":[{"type":"DELETE","lineNumber":4,"oldContent":"import com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsServiceImpl;"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/jwt/JwtUtils.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/jwt/JwtUtils.java","baseContent":"package com.capstone.tele_ticketing_backend_1.security.jwt;\n\n\nimport com.capstone.tele_ticketing_backend_1.security.service.UserDetailsImpl;\nimport com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsImpl;\nimport io.jsonwebtoken.*;\nimport io.jsonwebtoken.io.Decoders;\nimport io.jsonwebtoken.security.Keys;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.stereotype.Component;\n\nimport java.security.Key;\nimport java.util.Date;\n\n@Component\npublic class JwtUtils {\n  private static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\n\n  @Value(\"${toyandbooklibapp.jwtSecret}\")\n  private String jwtSecret;\n\n  @Value(\"${toyandbooklibapp.jwtExpirationMs}\")\n  private int jwtExpirationMs;\n\n  public String generateJwtToken(Authentication authentication) {\n\n    UserDetailsImpl userPrincipal = (UserDetailsImpl) authentication.getPrincipal();\n\n    return Jwts.builder().setSubject((userPrincipal.getUsername()))\n    \t\t.setIssuedAt(new Date())\n        .setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\n        .signWith(getSignInKey(),SignatureAlgorithm.HS512)\n        .compact(); \n  }\n\n  public String getUserNameFromJwtToken(String token) {\n   //0.9.0// return Jwts.parser().setSigningKey(getSignInKey()).parseClaimsJws(token).getBody().getSubject();\n\t//0.11.5  //return Jwts.parserBuilder().setSigningKey(getSignInKey()).build().parseClaimsJws(token).getBody().getSubject();\n\t  return Jwts.parserBuilder().setSigningKey(getSignInKey()).build().parseClaimsJws(token).getBody().getSubject();\n  }\n\n  public boolean validateJwtToken(String authToken) {\n    try {\n      //Jwts.parser().setSigningKey(getSignInKey()).parseClaimsJws(authToken);\n    \tJwts.parserBuilder().setSigningKey(getSignInKey()).build().parseClaimsJws(authToken);\n    \treturn true;\n\t}catch (MalformedJwtException e) {\n      logger.error(\"Invalid JWT token: {}\", e.getMessage());\n    } catch (ExpiredJwtException e) {\n      logger.error(\"JWT token is expired: {}\", e.getMessage());\n    } catch (UnsupportedJwtException e) {\n      logger.error(\"JWT token is unsupported: {}\", e.getMessage());\n    } catch (IllegalArgumentException e) {\n      logger.error(\"JWT claims string is empty: {}\", e.getMessage());\n    }\n\n    return false;\n  }\n  \n  private Key getSignInKey() {\n\t    byte[] keyBytes = Decoders.BASE64.decode(jwtSecret);\n\t    return Keys.hmacShaKeyFor(keyBytes);\n\t  }\n}","baseTimestamp":1761593795129,"deltas":[{"timestamp":1761593817121,"changes":[{"type":"DELETE","lineNumber":4,"oldContent":"import com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsImpl;"}]},{"timestamp":1761628329110,"changes":[{"type":"MODIFY","lineNumber":3,"content":"import com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsImpl;","oldContent":"import com.capstone.tele_ticketing_backend_1.security.service.UserDetailsImpl;"}]},{"timestamp":1761628332276,"changes":[{"type":"INSERT","lineNumber":3,"content":"import com.capstone.tele_ticketing_backend_1.security.service.UserDetailsImpl;"}]},{"timestamp":1761628344747,"changes":[{"type":"DELETE","lineNumber":4,"oldContent":"import com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsImpl;"}]},{"timestamp":1761641167141,"changes":[{"type":"MODIFY","lineNumber":20,"content":"  @Value(\"${toyandbooklibppjwtSecret}\")","oldContent":"  @Value(\"${toyandbooklibapp.jwtSecret}\")"}]},{"timestamp":1761641172927,"changes":[{"type":"MODIFY","lineNumber":20,"content":"  @Value(\"${jwtSecret}\")","oldContent":"  @Value(\"${toyandbooklibppjwtSecret}\")"},{"type":"MODIFY","lineNumber":23,"content":"  @Value(\"${jwtExpirationMs}\")","oldContent":"  @Value(\"${toyandbooklibapp.jwtExpirationMs}\")"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/pom.xml":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/pom.xml","baseContent":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n\t<modelVersion>4.0.0</modelVersion>\n\t<parent>\n\t\t<groupId>org.springframework.boot</groupId>\n\t\t<artifactId>spring-boot-starter-parent</artifactId>\n\t\t<version>3.5.7</version>\n\t\t<relativePath/> <!-- lookup parent from repository -->\n\t</parent>\n\t<groupId>com.capstone</groupId>\n\t<artifactId>tele-ticketing-backend-1</artifactId>\n\t<version>0.0.1-SNAPSHOT</version>\n\t<name>tele-ticketing-backend-1</name>\n\t<description>Telecom ticketing application</description>\n\t<url/>\n\t<licenses>\n\t\t<license/>\n\t</licenses>\n\t<developers>\n\t\t<developer/>\n\t</developers>\n\t<scm>\n\t\t<connection/>\n\t\t<developerConnection/>\n\t\t<tag/>\n\t\t<url/>\n\t</scm>\n\t<properties>\n\t\t<java.version>17</java.version>\n\t</properties>\n\t<dependencies>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-data-jpa</artifactId>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-security</artifactId>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-web</artifactId>\n\t\t</dependency>\n\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-devtools</artifactId>\n\t\t\t<scope>runtime</scope>\n\t\t\t<optional>true</optional>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>com.mysql</groupId>\n\t\t\t<artifactId>mysql-connector-j</artifactId>\n\t\t\t<scope>runtime</scope>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.projectlombok</groupId>\n\t\t\t<artifactId>lombok</artifactId>\n\t\t\t<optional>true</optional>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-test</artifactId>\n\t\t\t<scope>test</scope>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.security</groupId>\n\t\t\t<artifactId>spring-security-test</artifactId>\n\t\t\t<scope>test</scope>\n\t\t</dependency>\n\t\t<dependency>\n\t\t\t<groupId>io.jsonwebtoken</groupId>\n\t\t\t<artifactId>jjwt-api</artifactId>\n\t\t\t<version>0.11.5</version>\n\t\t</dependency>\n\t\t<!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl -->\n\t\t<dependency>\n\t\t\t<groupId>io.jsonwebtoken</groupId>\n\t\t\t<artifactId>jjwt-impl</artifactId>\n\t\t\t<version>0.11.5</version>\n\t\t\t<scope>runtime</scope>\n\t\t</dependency>\n\t\t<!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-jackson -->\n\t\t<dependency>\n\t\t\t<groupId>io.jsonwebtoken</groupId>\n\t\t\t<artifactId>jjwt-jackson</artifactId>\n\t\t\t<version>0.11.5</version>\n\t\t\t<scope>runtime</scope>\n\t\t</dependency>\n\t\t<!--\n\t\thttps://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-starter-webmvc-ui -->\n\t\t<dependency>\n\t\t\t<groupId>org.springdoc</groupId>\n\t\t\t<artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>\n\t\t\t<version>2.8.8</version>\n\t\t</dependency>\n\t</dependencies>\n\n\t<build>\n\t\t<plugins>\n\t\t\t<plugin>\n\t\t\t\t<groupId>org.apache.maven.plugins</groupId>\n\t\t\t\t<artifactId>maven-compiler-plugin</artifactId>\n\t\t\t\t<configuration>\n\t\t\t\t\t<annotationProcessorPaths>\n\t\t\t\t\t\t<path>\n\t\t\t\t\t\t\t<groupId>org.projectlombok</groupId>\n\t\t\t\t\t\t\t<artifactId>lombok</artifactId>\n\t\t\t\t\t\t</path>\n\t\t\t\t\t</annotationProcessorPaths>\n\t\t\t\t</configuration>\n\t\t\t</plugin>\n\t\t\t<plugin>\n\t\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\n\t\t\t\t<configuration>\n\t\t\t\t\t<excludes>\n\t\t\t\t\t\t<exclude>\n\t\t\t\t\t\t\t<groupId>org.projectlombok</groupId>\n\t\t\t\t\t\t\t<artifactId>lombok</artifactId>\n\t\t\t\t\t\t</exclude>\n\t\t\t\t\t</excludes>\n\t\t\t\t</configuration>\n\t\t\t</plugin>\n\t\t</plugins>\n\t</build>\n\n</project>\n","baseTimestamp":1761593895965},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/config/WebSecurityConfig.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/config/WebSecurityConfig.java","baseContent":"package com.capstone.tele_ticketing_backend_1.security.config;\n\n\nimport com.capstone.tele_ticketing_backend_1.security.jwt.AuthEntryPointJwt;\nimport com.capstone.tele_ticketing_backend_1.security.jwt.AuthTokenFilter;\nimport com.capstone.tele_ticketing_backend_1.security.service.UserDetailsServiceImpl;\nimport com.prodapt.springsecurityusingjwtexample.security.jwt.AuthEntryPointJwt;\nimport com.prodapt.springsecurityusingjwtexample.security.jwt.AuthTokenFilter;\nimport com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity \npublic class WebSecurityConfig { \n\t@Autowired\n\tprivate UserDetailsServiceImpl userDetailsService;\n\n\t@Autowired\n\tprivate AuthEntryPointJwt unauthorizedHandler;\n\n\t@Bean\n\tpublic AuthTokenFilter authenticationJwtTokenFilter() {\n\t\treturn new AuthTokenFilter();\n\t}\n\n\n\n\t@Bean\n\tpublic DaoAuthenticationProvider authenticationProvider() {\n\t\tDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n\t\tauthProvider.setUserDetailsService(userDetailsService);\n\t\tauthProvider.setPasswordEncoder(passwordEncoder());\n\n\t\treturn authProvider;\n\t}\n\n\t@Bean\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n\t\treturn authConfig.getAuthenticationManager();\n\t}\n\n\t@Bean\n\tpublic PasswordEncoder passwordEncoder() {\n\t\treturn new BCryptPasswordEncoder();\n\t}\n\n\tpublic final static String[] PUBLIC_REQUEST_MATCHERS = { \"/api/test/all\",\"/api/auth/**\", \"/api-docs/**\", \"/swagger-ui/**\",\"/v3/api-docs/**\" };\n\n\t@Bean\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\t\t//http.cors(AbstractHttpConfigurer :: disable).csrf(AbstractHttpConfigurer::disable)\n\t\thttp.csrf(AbstractHttpConfigurer::disable)\n\t\t\t\t.authorizeHttpRequests(req -> req.requestMatchers(PUBLIC_REQUEST_MATCHERS).permitAll()\n\t\t\t\t\t\t//.requestMatchers(\"/api/toyandbooklibapp/**\").permitAll())\n\t\t\t\t\t\t.requestMatchers(\"/api/toyandbooklibapp/user\").hasAnyRole(\"USER\", \"ADMIN\")\n\t\t\t\t\t\t.requestMatchers(\"/api/toyandbooklibapp/child\").hasAnyRole(\"USER\",\"CHILD\")\n\t\t\t\t\t\t.requestMatchers(\"/api/toyandbooklibapp/parent\").hasRole(\"PARENT\")\n\t\t\t\t\t\t.requestMatchers(\"/api/test/user\").hasRole(\"USER\")\n\t\t\t\t\t\t.requestMatchers(\"/api/test/parent\").hasRole(\"PARENT\")\n\t\t\t\t\t\t.requestMatchers(\"/api/test/admin\").hasRole(\"ADMIN\")\n\t\t\t\t\t\t)\n\t\t\t\t\n\t\t\t\t\t\t//.anyRequest().authenticated())http://localhost:8080/api/test/\n\t\t\t\t.exceptionHandling(exception -> exception.authenticationEntryPoint(unauthorizedHandler))\n\t\t\t\t.sessionManagement(session -> session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n\t\t\t\t.authenticationProvider(authenticationProvider())\n\t\t\t\t.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\t\treturn http.build();\n\t}\n}","baseTimestamp":1761593928788,"deltas":[{"timestamp":1761593933981,"changes":[{"type":"DELETE","lineNumber":6,"oldContent":"import com.prodapt.springsecurityusingjwtexample.security.jwt.AuthEntryPointJwt;"},{"type":"DELETE","lineNumber":7,"oldContent":"import com.prodapt.springsecurityusingjwtexample.security.jwt.AuthTokenFilter;"},{"type":"DELETE","lineNumber":8,"oldContent":"import com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsServiceImpl;"}]},{"timestamp":1761628267854,"changes":[{"type":"DELETE","lineNumber":3,"oldContent":"import com.capstone.tele_ticketing_backend_1.security.jwt.AuthEntryPointJwt;"},{"type":"MODIFY","lineNumber":4,"content":"import com.prodapt.springsecurityusingjwtexample.security.jwt.AuthEntryPointJwt;","oldContent":"import com.capstone.tele_ticketing_backend_1.security.jwt.AuthTokenFilter;"},{"type":"INSERT","lineNumber":5,"content":"import com.prodapt.springsecurityusingjwtexample.security.jwt.AuthTokenFilter;"},{"type":"INSERT","lineNumber":6,"content":"import com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsServiceImpl;"}]},{"timestamp":1761628271026,"changes":[{"type":"INSERT","lineNumber":3,"content":"import com.capstone.tele_ticketing_backend_1.security.jwt.AuthEntryPointJwt;"},{"type":"INSERT","lineNumber":4,"content":"import com.capstone.tele_ticketing_backend_1.security.service.UserDetailsServiceImpl;"},{"type":"DELETE","lineNumber":5,"oldContent":"import com.capstone.tele_ticketing_backend_1.security.service.UserDetailsServiceImpl;"}]},{"timestamp":1761628279333,"changes":[{"type":"MODIFY","lineNumber":4,"content":"import com.capstone.tele_ticketing_backend_1.security.jwt.AuthTokenFilter;","oldContent":"import com.prodapt.springsecurityusingjwtexample.security.jwt.AuthEntryPointJwt;"},{"type":"INSERT","lineNumber":6,"content":"import com.prodapt.springsecurityusingjwtexample.security.jwt.AuthEntryPointJwt;"}]},{"timestamp":1761628285893,"changes":[{"type":"DELETE","lineNumber":6,"oldContent":"import com.prodapt.springsecurityusingjwtexample.security.jwt.AuthEntryPointJwt;"},{"type":"DELETE","lineNumber":7,"oldContent":"import com.prodapt.springsecurityusingjwtexample.security.jwt.AuthTokenFilter;"},{"type":"DELETE","lineNumber":8,"oldContent":"import com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsServiceImpl;"}]},{"timestamp":1761645984075,"changes":[{"type":"INSERT","lineNumber":68,"content":"\t\t\t\t\t\t\t\t.requestMatchers(\"/greet\")"}]},{"timestamp":1761645993434,"changes":[{"type":"MODIFY","lineNumber":68,"content":"\t\t\t\t\t\t\t\t.requestMatchers(\"/greet\").hasRole(\"\")","oldContent":"\t\t\t\t\t\t\t\t.requestMatchers(\"/greet\")"}]},{"timestamp":1761646001256,"changes":[{"type":"MODIFY","lineNumber":68,"content":"\t\t\t\t\t\t\t\t.requestMatchers(\"/greet\").hasRole(\"CUSTOMER\")","oldContent":"\t\t\t\t\t\t\t\t.requestMatchers(\"/greet\").hasRole(\"\")"}]},{"timestamp":1761646005789,"changes":[{"type":"DELETE","lineNumber":67,"oldContent":"\t\t\t\t\t\t.requestMatchers(\"/api/toyandbooklibapp/parent\").hasRole(\"PARENT\")"},{"type":"MODIFY","lineNumber":67,"content":"\t\t\t\t\t\t.requestMatchers(\"/api/toyandbooklibapp/parent\").hasRole(\"PARENT\").requestMatchers(\"/greet\").hasRole(\"CUSTOMER\")","oldContent":"\t\t\t\t\t\t\t\t.requestMatchers(\"/greet\").hasRole(\"CUSTOMER\")"}]},{"timestamp":1761646007926,"changes":[{"type":"MODIFY","lineNumber":67,"content":"\t\t\t\t\t\t.requestMatchers(\"/api/toyandbooklibapp/parent\").hasRole(\"PARENT\")","oldContent":"\t\t\t\t\t\t.requestMatchers(\"/api/toyandbooklibapp/parent\").hasRole(\"PARENT\").requestMatchers(\"/greet\").hasRole(\"CUSTOMER\")"},{"type":"INSERT","lineNumber":68,"content":"\t\t\t\t\t\t\t\t.requestMatchers(\"/greet\").hasRole(\"CUSTOMER\")"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/controller/AuthController.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/controller/AuthController.java","baseContent":"package com.capstone.tele_ticketing_backend_1.controller;\n\n\nimport com.prodapt.springsecurityusingjwtexample.entities.ERole;\nimport com.prodapt.springsecurityusingjwtexample.entities.Role;\nimport com.prodapt.springsecurityusingjwtexample.entities.UserEntity;\nimport com.prodapt.springsecurityusingjwtexample.repositories.RoleRepository;\nimport com.prodapt.springsecurityusingjwtexample.repositories.UserRepository;\nimport com.prodapt.springsecurityusingjwtexample.security.jwt.JwtUtils;\nimport com.prodapt.springsecurityusingjwtexample.security.payload.request.LoginRequest;\nimport com.prodapt.springsecurityusingjwtexample.security.payload.request.SignupRequest;\nimport com.prodapt.springsecurityusingjwtexample.security.payload.response.JwtResponse;\nimport com.prodapt.springsecurityusingjwtexample.security.payload.response.MessageResponse;\nimport com.prodapt.springsecurityusingjwtexample.security.service.UserDetailsImpl;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n\n@CrossOrigin(origins = \"*\", maxAge = 3600)\n@RestController\n@RequestMapping(\"/api/auth\")\npublic class AuthController {\n\t@Autowired\n\tAuthenticationManager authenticationManager;\n\n\t@Autowired\n\tUserRepository userRepository;\n\n\t@Autowired\n\tRoleRepository roleRepository;\n\n\t@Autowired\n\tPasswordEncoder encoder;\n\n\t@Autowired\n\tJwtUtils jwtUtils;\n\n\t@PostMapping(\"/signin\")\n\tpublic ResponseEntity<?> authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\n\n\t\tAuthentication authentication = authenticationManager.authenticate(\n\t\t\t\tnew UsernamePasswordAuthenticationToken(loginRequest.getUsername(), \n\t\t\t\t\t\tloginRequest.getPassword()));\n\n\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\n\t\tString jwt = jwtUtils.generateJwtToken(authentication);\n\t\t\n\t\tUserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\t\t\n\t\tList<String> roles = userDetails.getAuthorities().stream()\n\t\t\t\t.map(item -> item.getAuthority())\n\t\t\t\t.collect(Collectors.toList());\n\n\t\treturn ResponseEntity.ok(new JwtResponse(jwt, \n\t\t\t\t\t\t\t\t\t\t\t\t userDetails.getId(), \n\t\t\t\t\t\t\t\t\t\t\t\t userDetails.getUsername(), \n\t\t\t\t\t\t\t\t\t\t\t\t userDetails.getEmail(), \n\t\t\t\t\t\t\t\t\t\t\t\t roles));\n\t}\n\n\t@PostMapping(\"/signup\")\n\tpublic ResponseEntity<?> registerUser(@Valid @RequestBody SignupRequest signUpRequest) {\n\t\tif (userRepository.existsByUsername(signUpRequest.getUsername())) {\n\t\t\treturn ResponseEntity\n\t\t\t\t\t.badRequest()\n\t\t\t\t\t.body(new MessageResponse(\"Error: Username is already taken!\"));\n\t\t}\n\n\t\tif (userRepository.existsByEmail(signUpRequest.getEmail())) {\n\t\t\treturn ResponseEntity\n\t\t\t\t\t.badRequest()\n\t\t\t\t\t.body(new MessageResponse(\"Error: Email is already in use!\"));\n\t\t}\n\n\t\t// Create new user's account\n\t\tUserEntity user = new UserEntity(signUpRequest.getUsername(), \n\t\t\t\t\t\t\t signUpRequest.getEmail(),\n\t\t\t\t\t\t\t encoder.encode(signUpRequest.getPassword()));\n\n\t\tSet<String> strRoles = signUpRequest.getRole();\n\t\tSet<Role> roles = new HashSet<>();\n\n\t\tif (strRoles == null) {\n\t\t\tRole userRole = roleRepository.findByName(ERole.ROLE_USER)\n\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role is not found.\"));\n\t\t\troles.add(userRole);\n\t\t} else {\n\t\t\tstrRoles.forEach(role -> {\n\t\t\t\tswitch (role) {\n\t\t\t\tcase \"admin\":\n\t\t\t\t\tRole adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\n\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role is not found.\"));\n\t\t\t\t\troles.add(adminRole);\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"child\":\n\t\t\t\t\tRole childRole = roleRepository.findByName(ERole.ROLE_CHILD)\n\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role is not found.\"));\n\t\t\t\t\troles.add(childRole);\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"parent\":\n\t\t\t\t\tRole parentRole = roleRepository.findByName(ERole.ROLE_PARENT)\n\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role is not found.\"));\n\t\t\t\t\troles.add(parentRole);\n\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tRole userRole = roleRepository.findByName(ERole.ROLE_USER)\n\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role is not found.\"));\n\t\t\t\t\troles.add(userRole);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tuser.setRoles(roles);\n\t\tuser.setAddress(signUpRequest.getAddress());\n\t\tuser.setEmail(signUpRequest.getEmail());\n\t\tuser.setMobile(signUpRequest.getMobile());\n\t\tuser.setGender(signUpRequest.getGender());\n\t\t//saving UserEntity to the database \n\t\tuserRepository.save(user);\n\n\t\treturn ResponseEntity.ok(new MessageResponse(\"User registered successfully!\"));\n\t}\n}","baseTimestamp":1761595369612,"deltas":[{"timestamp":1761678954831,"changes":[{"type":"MODIFY","lineNumber":14,"content":"import com.capstone.tele_ticketing_backend_1.security.payload.request.LoginRequest;","oldContent":"import jakarta.validation.Valid;"},{"type":"MODIFY","lineNumber":28,"content":"import org.springframework.web.bind.annotation.RequestBody;","oldContent":""},{"type":"MODIFY","lineNumber":37,"content":"@RequestMapping(\"/api/auth\")","oldContent":"\t@Autowired"},{"type":"MODIFY","lineNumber":39,"content":"\t@Autowired","oldContent":""},{"type":"INSERT","lineNumber":41,"content":""},{"type":"DELETE","lineNumber":42,"oldContent":"\t@Autowired"},{"type":"MODIFY","lineNumber":43,"content":"\tUserRepo userRepository;","oldContent":"\t@Autowired"},{"type":"MODIFY","lineNumber":45,"content":"\t@Autowired","oldContent":""},{"type":"INSERT","lineNumber":47,"content":""},{"type":"DELETE","lineNumber":48,"oldContent":"\t@Autowired"},{"type":"MODIFY","lineNumber":67,"content":"\t\t\t\t.collect(Collectors.toList());","oldContent":"\t\t\t\t\t\t\t\t\t\t\t\t userDetails.getUsername(), "},{"type":"DELETE","lineNumber":71,"oldContent":"\t}"},{"type":"MODIFY","lineNumber":71,"content":"\t\t\t\tuserDetails.getId(),","oldContent":"\t\t\t\tuserDetails.getUsername(), "},{"type":"INSERT","lineNumber":72,"content":"\t\t\t\tuserDetails.getUsername(),"},{"type":"INSERT","lineNumber":77,"content":"\t@PostMapping(\"/signup\")"},{"type":"INSERT","lineNumber":78,"content":"\tpublic ResponseEntity<?> registerUser(@Valid @RequestBody SignupRequest signUpRequest) {"},{"type":"DELETE","lineNumber":79,"oldContent":"\t\t\t\t\t.body(new MessageResponse(\"Error: Username is already taken!\"));"},{"type":"DELETE","lineNumber":80,"oldContent":"\t\t\treturn ResponseEntity"},{"type":"INSERT","lineNumber":82,"content":"\t\t\t\t\t.body(new MessageResponse(\"Error: Username is already taken!\"));"},{"type":"DELETE","lineNumber":83,"oldContent":"\t\t}"},{"type":"MODIFY","lineNumber":85,"content":"\t\t// Create new user's account","oldContent":"\t\t\t\t\t.badRequest()"},{"type":"INSERT","lineNumber":141,"content":"\t\t\t\t}"},{"type":"DELETE","lineNumber":142,"oldContent":"\t\t\t\tcase \"cxo\": {"},{"type":"DELETE","lineNumber":167,"oldContent":"\t\t\t\t\tbreak;"},{"type":"DELETE","lineNumber":168,"oldContent":"\t\t\t\tcase \"noc_admin\": {"},{"type":"DELETE","lineNumber":169,"oldContent":"\t\t\t\t}"}]},{"timestamp":1761679001539,"changes":[{"type":"MODIFY","lineNumber":12,"content":"import com.capstone.tele_ticketing_backend_1.repo.UserRepo;","oldContent":"import com.prodapt.springsecurityusingjwtexample.security.payload.response.MessageResponse;"},{"type":"MODIFY","lineNumber":18,"content":"import com.capstone.tele_ticketing_backend_1.security.service.UserDetailsImpl;","oldContent":"import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;"},{"type":"MODIFY","lineNumber":26,"content":"import org.springframework.web.bind.annotation.CrossOrigin;","oldContent":"import java.util.Set;"},{"type":"MODIFY","lineNumber":32,"content":"import jakarta.validation.Valid;","oldContent":"@RequestMapping(\"/api/auth\")"},{"type":"MODIFY","lineNumber":34,"content":"","oldContent":"\t@Autowired"},{"type":"MODIFY","lineNumber":68,"content":"\t\tString firstAuthority = authorities.stream()","oldContent":"\t\tString role = userDetails.getAuthorities();"},{"type":"INSERT","lineNumber":69,"content":"\t\t\t\t.findFirst()"},{"type":"INSERT","lineNumber":70,"content":"\t\t\t\t.map(GrantedAuthority::getAuthority)"},{"type":"INSERT","lineNumber":71,"content":"\t\t\t\t.orElse(null);"},{"type":"DELETE","lineNumber":72,"oldContent":"\t\t\t\tuserDetails.getUsername(), "},{"type":"INSERT","lineNumber":75,"content":"\t\t\t\tuserDetails.getUsername(),"},{"type":"DELETE","lineNumber":75,"oldContent":"\tpublic ResponseEntity<?> registerUser(@Valid @RequestBody SignupRequest signUpRequest) {"},{"type":"INSERT","lineNumber":78,"content":"\t}"},{"type":"DELETE","lineNumber":78,"oldContent":"\t\t\treturn ResponseEntity"},{"type":"INSERT","lineNumber":82,"content":"\t\tif (userRepository.existsByUsername(signUpRequest.getUsername())) {"},{"type":"INSERT","lineNumber":83,"content":"\t\t\treturn ResponseEntity"},{"type":"DELETE","lineNumber":81,"oldContent":"\t\t\t\t\t.badRequest()"},{"type":"DELETE","lineNumber":90,"oldContent":"\t\t\t\t\t\t\t signUpRequest.getEmail(),"},{"type":"INSERT","lineNumber":93,"content":"\t\tSet<Role> roles = new HashSet<>();"},{"type":"DELETE","lineNumber":167,"oldContent":"\t\t\t\tcase \"noc_admin\": {"}]},{"timestamp":1761679009677,"changes":[{"type":"MODIFY","lineNumber":16,"content":"import com.capstone.tele_ticketing_backend_1.security.payload.response.JwtResponse;","oldContent":"import org.springframework.http.ResponseEntity;"},{"type":"MODIFY","lineNumber":66,"content":"\t\t\t\t.map(item -> item.getAuthority())","oldContent":"\t\t\t\t\t\t\t\t\t\t\t\t userDetails.getUsername(), "},{"type":"MODIFY","lineNumber":68,"content":"\t\tString firstAuthority = userDetails.getAuthorities().stream()","oldContent":"\t\tString firstAuthority = authorities.stream()"},{"type":"DELETE","lineNumber":70,"oldContent":""},{"type":"MODIFY","lineNumber":72,"content":"","oldContent":"\t}"},{"type":"INSERT","lineNumber":73,"content":"\t\treturn ResponseEntity.ok(new JwtResponse(jwt,"},{"type":"INSERT","lineNumber":75,"content":"\t\t\t\tuserDetails.getUsername(),"},{"type":"DELETE","lineNumber":77,"oldContent":"\t\t\t\tuserDetails.getUsername(),"},{"type":"INSERT","lineNumber":78,"content":"\t}"},{"type":"DELETE","lineNumber":80,"oldContent":"\t}"},{"type":"DELETE","lineNumber":82,"oldContent":"\t\t\t\t\t.badRequest()"},{"type":"MODIFY","lineNumber":84,"content":"\t\t\t\t\t.badRequest()","oldContent":"\t\t\t\t\t.body(new MessageResponse(\"Error: Username is already taken!\"));"},{"type":"INSERT","lineNumber":85,"content":"\t\t\t\t\t.body(new MessageResponse(\"Error: Username is already taken!\"));"},{"type":"INSERT","lineNumber":86,"content":"\t\t}"},{"type":"DELETE","lineNumber":87,"oldContent":""},{"type":"MODIFY","lineNumber":91,"content":"","oldContent":"\t\t// Create new user's account"},{"type":"DELETE","lineNumber":93,"oldContent":"\t\t\t\t\t\t\t encoder.encode(signUpRequest.getPassword()));"},{"type":"MODIFY","lineNumber":94,"content":"","oldContent":"\t\tstrRoles.forEach(role -> {"},{"type":"INSERT","lineNumber":95,"content":"\t\tstrRoles.forEach(role -> {"}]},{"timestamp":1761679016472,"changes":[{"type":"INSERT","lineNumber":24,"content":"import org.springframework.security.core.GrantedAuthority;"},{"type":"INSERT","lineNumber":72,"content":"\t\t\t\t.orElse(null);"},{"type":"DELETE","lineNumber":73,"oldContent":"\t\t\t\t.orElse(null);"},{"type":"INSERT","lineNumber":84,"content":"\t\t\treturn ResponseEntity"},{"type":"DELETE","lineNumber":85,"oldContent":"\t\t\treturn ResponseEntity"},{"type":"INSERT","lineNumber":94,"content":"\t\tSet<Role> roles = new HashSet<>();"},{"type":"DELETE","lineNumber":95,"oldContent":"\t\tSet<Role> roles = new HashSet<>();"}]},{"timestamp":1761679025699,"changes":[{"type":"MODIFY","lineNumber":73,"content":"","oldContent":""},{"type":"MODIFY","lineNumber":77,"content":"\t\t\t\tfirstAuthority","oldContent":"\t\t\t\tuserDetails.getAuthorities().stream().findFirst();"},{"type":"MODIFY","lineNumber":85,"content":"\t\t\t\t\t.badRequest()","oldContent":"\t\t\t\t\t.badRequest()"},{"type":"INSERT","lineNumber":91,"content":"\t\t\t\tencoder.encode(signUpRequest.getPassword()), signUpRequest.getFullname());"},{"type":"DELETE","lineNumber":92,"oldContent":""},{"type":"MODIFY","lineNumber":95,"content":"","oldContent":""}]},{"timestamp":1761679388988,"changes":[{"type":"MODIFY","lineNumber":60,"content":"\t\t\t\t\t\tloginRequest.getPassword()));","oldContent":"\t\tUserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\t\t"},{"type":"DELETE","lineNumber":62,"oldContent":"\t\t\t\t.map(item -> item.getAuthority())"},{"type":"DELETE","lineNumber":63,"oldContent":"\t\t\t\t.collect(Collectors.toList());"},{"type":"INSERT","lineNumber":62,"content":"\t\tSecurityContextHolder.getContext().setAuthentication(authentication);"},{"type":"INSERT","lineNumber":63,"content":"\t\tString jwt = jwtUtils.generateJwtToken(authentication);"},{"type":"INSERT","lineNumber":72,"content":"\t\t\t\t.orElse(null);"},{"type":"DELETE","lineNumber":73,"oldContent":""},{"type":"INSERT","lineNumber":84,"content":"\t\t\treturn ResponseEntity"},{"type":"DELETE","lineNumber":85,"oldContent":"\t\t\t\t\t.badRequest()"},{"type":"INSERT","lineNumber":94,"content":"\t\tSet<Role> roles = new HashSet<>();"},{"type":"DELETE","lineNumber":95,"oldContent":""},{"type":"INSERT","lineNumber":170,"content":""},{"type":"INSERT","lineNumber":171,"content":"\tprivate String mapRoleToFrontend(String backendRole) {"},{"type":"INSERT","lineNumber":172,"content":"\t\tswitch (backendRole) {"},{"type":"INSERT","lineNumber":173,"content":"\t\t\tcase \"ROLE_CUSTOMER\": return \"Customer\";"},{"type":"INSERT","lineNumber":174,"content":"\t\t\tcase \"ROLE_AGENT\": return \"Agent\";"},{"type":"INSERT","lineNumber":175,"content":"\t\t\tcase \"ROLE_TRIAGE_OFFICER\": return \"Triage Officer\";"},{"type":"INSERT","lineNumber":176,"content":"\t\t\tcase \"ROLE_FIELD_ENGINEER\": return \"Field Engineer\";"},{"type":"INSERT","lineNumber":177,"content":"\t\t\tcase \"ROLE_NOC_ENGINEER\": return \"NOC Engineer\";"},{"type":"INSERT","lineNumber":178,"content":"\t\t\tcase \"ROLE_L1_ENGINEER\": return \"L1 Engineer\";"},{"type":"INSERT","lineNumber":179,"content":"\t\t\tcase \"ROLE_TEAM_LEAD\": return \"Team Lead\";"},{"type":"INSERT","lineNumber":180,"content":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"},{"type":"INSERT","lineNumber":181,"content":"\t\t\tcase \"ROLE_CXO\": return \"CXO\";"},{"type":"INSERT","lineNumber":182,"content":"\t\t\tcase \"ROLE_NOC_ADMIN\": return \"NOC Admin\";"},{"type":"INSERT","lineNumber":183,"content":"\t\t\tdefault: return backendRole; // fallback if unknown"},{"type":"INSERT","lineNumber":184,"content":"\t\t}"},{"type":"INSERT","lineNumber":185,"content":"\t}"},{"type":"INSERT","lineNumber":186,"content":""}]},{"timestamp":1761679411577,"changes":[{"type":"MODIFY","lineNumber":15,"content":"import com.capstone.tele_ticketing_backend_1.security.payload.request.SignupRequest;","oldContent":"import org.springframework.beans.factory.annotation.Autowired;"},{"type":"MODIFY","lineNumber":50,"content":"\tPasswordEncoder encoder;","oldContent":"\t@PostMapping(\"/signin\")"},{"type":"MODIFY","lineNumber":53,"content":"\tJwtUtils jwtUtils;","oldContent":"\t\tAuthentication authentication = authenticationManager.authenticate("},{"type":"INSERT","lineNumber":72,"content":"\t\t\t\t.map(this::mapRoleToFrontend)"},{"type":"INSERT","lineNumber":75,"content":""},{"type":"DELETE","lineNumber":171,"oldContent":"}"},{"type":"DELETE","lineNumber":173,"oldContent":""},{"type":"DELETE","lineNumber":175,"oldContent":"\t}"},{"type":"DELETE","lineNumber":177,"oldContent":"\t\t}"},{"type":"DELETE","lineNumber":179,"oldContent":"\t\t\tdefault: return backendRole; // fallback if unknown"},{"type":"DELETE","lineNumber":181,"oldContent":"\t\t\tcase \"ROLE_NOC_ADMIN\": return \"NOC Admin\";"},{"type":"DELETE","lineNumber":183,"oldContent":"\t\t\tcase \"ROLE_CXO\": return \"CXO\";"},{"type":"DELETE","lineNumber":185,"oldContent":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"},{"type":"INSERT","lineNumber":182,"content":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"},{"type":"INSERT","lineNumber":183,"content":"\t\t\tcase \"ROLE_CXO\": return \"CXO\";"},{"type":"INSERT","lineNumber":184,"content":"\t\t\tcase \"ROLE_NOC_ADMIN\": return \"NOC Admin\";"},{"type":"INSERT","lineNumber":185,"content":"\t\t\tdefault: return backendRole; // fallback if unknown"},{"type":"INSERT","lineNumber":186,"content":"\t\t}"},{"type":"INSERT","lineNumber":187,"content":"\t}"},{"type":"INSERT","lineNumber":188,"content":""},{"type":"INSERT","lineNumber":189,"content":"}"}]},{"timestamp":1761679495405,"changes":[{"type":"MODIFY","lineNumber":17,"content":"import com.capstone.tele_ticketing_backend_1.security.payload.response.MessageResponse;","oldContent":"import org.springframework.security.authentication.AuthenticationManager;"},{"type":"MODIFY","lineNumber":22,"content":"import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;","oldContent":"import org.springframework.web.bind.annotation.*;"},{"type":"MODIFY","lineNumber":52,"content":"\t@Autowired","oldContent":""},{"type":"MODIFY","lineNumber":55,"content":"\t@PostMapping(\"/signin\")","oldContent":"\t\t\t\t\t\tloginRequest.getPassword()));"},{"type":"MODIFY","lineNumber":76,"content":"\t\treturn ResponseEntity.ok(new JwtResponse(jwt,","oldContent":"\t\treturn ResponseEntity.ok(new JwtResponse(jwt,"},{"type":"MODIFY","lineNumber":175,"content":"\t\t\tcase \"ROLE_CUSTOMER\": return \"CUSTOMER\";","oldContent":"\t\t\tcase \"ROLE_CUSTOMER\": return \"Customer\";"},{"type":"MODIFY","lineNumber":179,"content":"\t\t\tcase \"ROLE_NOC_ENGINEER\": return \"NOC Engineer\";","oldContent":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"},{"type":"INSERT","lineNumber":180,"content":"\t\t\tcase \"ROLE_L1_ENGINEER\": return \"L1 Engineer\";"},{"type":"INSERT","lineNumber":181,"content":"\t\t\tcase \"ROLE_TEAM_LEAD\": return \"Team Lead\";"},{"type":"INSERT","lineNumber":182,"content":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"},{"type":"DELETE","lineNumber":182,"oldContent":"\t\t\tcase \"ROLE_NOC_ENGINEER\": return \"NOC Engineer\";"},{"type":"DELETE","lineNumber":185,"oldContent":"\t\t\tcase \"ROLE_L1_ENGINEER\": return \"L1 Engineer\";"},{"type":"DELETE","lineNumber":187,"oldContent":"\t\t\tcase \"ROLE_TEAM_LEAD\": return \"Team Lead\";"}]},{"timestamp":1761679538220,"changes":[{"type":"INSERT","lineNumber":75,"content":""},{"type":"DELETE","lineNumber":76,"oldContent":"\t\treturn ResponseEntity.ok(new JwtResponse(jwt,"},{"type":"MODIFY","lineNumber":176,"content":"\t\t\tcase \"ROLE_AGENT\": return \"AGENT\";","oldContent":"\t\t\tcase \"ROLE_AGENT\": return \"Agent\";"},{"type":"MODIFY","lineNumber":178,"content":"\t\t\tcase \"ROLE_FIELD_ENGINEER\": return \"Field Engineer\";","oldContent":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"},{"type":"DELETE","lineNumber":181,"oldContent":"\t\t\tcase \"ROLE_CXO\": return \"CXO\";"},{"type":"MODIFY","lineNumber":183,"content":"\t\t\tcase \"ROLE_CXO\": return \"CXO\";","oldContent":"\t\t\tcase \"ROLE_NOC_ADMIN\": return \"NOC Admin\";"},{"type":"INSERT","lineNumber":184,"content":"\t\t\tcase \"ROLE_NOC_ADMIN\": return \"NOC Admin\";"}]},{"timestamp":1761679547084,"changes":[{"type":"MODIFY","lineNumber":51,"content":"","oldContent":"\tpublic ResponseEntity<?> authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {"},{"type":"INSERT","lineNumber":56,"content":"\tpublic ResponseEntity<?> authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {"},{"type":"DELETE","lineNumber":57,"oldContent":""},{"type":"MODIFY","lineNumber":177,"content":"\t\t\tcase \"ROLE_TRIAGE_OFFICER\": return \"TRIAGE_OFFICER\";","oldContent":"\t\t\tcase \"ROLE_TRIAGE_OFFICER\": return \"Triage Officer\";"},{"type":"INSERT","lineNumber":182,"content":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"},{"type":"DELETE","lineNumber":184,"oldContent":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"}]},{"timestamp":1761679552558,"changes":[{"type":"MODIFY","lineNumber":178,"content":"\t\t\tcase \"ROLE_FIELD_ENGINEER\": return \"FIELD_ENGINEER\";","oldContent":"\t\t\tcase \"ROLE_FIELD_ENGINEER\": return \"Field Engineer\";"},{"type":"DELETE","lineNumber":189,"oldContent":"\t\t\tcase \"ROLE_TEAM_LEAD\": return \"Team Lead\";"},{"type":"DELETE","lineNumber":191,"oldContent":"\t\t\tcase \"ROLE_CXO\": return \"CXO\";"},{"type":"DELETE","lineNumber":192,"oldContent":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"}]},{"timestamp":1761679562953,"changes":[{"type":"MODIFY","lineNumber":8,"content":"import com.capstone.tele_ticketing_backend_1.entities.AppUser;","oldContent":"import com.prodapt.springsecurityusingjwtexample.security.jwt.JwtUtils;"},{"type":"MODIFY","lineNumber":23,"content":"import org.springframework.security.core.Authentication;","oldContent":""},{"type":"DELETE","lineNumber":58,"oldContent":"\t\tSecurityContextHolder.getContext().setAuthentication(authentication);"},{"type":"MODIFY","lineNumber":58,"content":"\t\tAuthentication authentication = authenticationManager.authenticate(","oldContent":"\t\tString jwt = jwtUtils.generateJwtToken(authentication);"},{"type":"INSERT","lineNumber":59,"content":"\t\t\t\tnew UsernamePasswordAuthenticationToken(loginRequest.getUsername(),"},{"type":"DELETE","lineNumber":99,"oldContent":"\t\tSet<String> strRoles = signUpRequest.getRole();"},{"type":"DELETE","lineNumber":100,"oldContent":"\t\tSet<Role> roles = new HashSet<>();"},{"type":"DELETE","lineNumber":101,"oldContent":""},{"type":"DELETE","lineNumber":102,"oldContent":"\t\tif (strRoles == null) {"},{"type":"DELETE","lineNumber":103,"oldContent":"\t\t\tRole userRole = roleRepository.findByName(ERole.ROLE_USER)"},{"type":"DELETE","lineNumber":104,"oldContent":"\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role is not found.\"));"},{"type":"INSERT","lineNumber":99,"content":"\t\t\tswitch (role) {"},{"type":"INSERT","lineNumber":100,"content":"\t\t\t\tcase \"customer\": {"},{"type":"INSERT","lineNumber":101,"content":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_CUSTOMER)"},{"type":"INSERT","lineNumber":102,"content":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role 'CUSTOMER' is not found.\"));"},{"type":"INSERT","lineNumber":103,"content":"\t\t\t\t\troles.add(foundRole);"},{"type":"INSERT","lineNumber":104,"content":"\t\t\t\t\tbreak;"},{"type":"DELETE","lineNumber":107,"oldContent":"\t\t} else {"},{"type":"DELETE","lineNumber":108,"oldContent":"\t\t\tstrRoles.forEach(role -> {"},{"type":"DELETE","lineNumber":109,"oldContent":"\t\t\t\tswitch (role) {"},{"type":"DELETE","lineNumber":110,"oldContent":"\t\t\t\tcase \"admin\":"},{"type":"DELETE","lineNumber":111,"oldContent":"\t\t\t\t\tRole adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)"},{"type":"DELETE","lineNumber":112,"oldContent":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role is not found.\"));"},{"type":"DELETE","lineNumber":113,"oldContent":"\t\t\t\t\troles.add(adminRole);"},{"type":"DELETE","lineNumber":114,"oldContent":""},{"type":"INSERT","lineNumber":107,"content":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_AGENT)"},{"type":"INSERT","lineNumber":108,"content":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role 'AGENT' is not found.\"));"},{"type":"INSERT","lineNumber":109,"content":"\t\t\t\t\troles.add(foundRole);"},{"type":"DELETE","lineNumber":116,"oldContent":"\t\t\t\tcase \"child\":"},{"type":"DELETE","lineNumber":117,"oldContent":"\t\t\t\t\tRole childRole = roleRepository.findByName(ERole.ROLE_CHILD)"},{"type":"DELETE","lineNumber":118,"oldContent":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role is not found.\"));"},{"type":"DELETE","lineNumber":119,"oldContent":"\t\t\t\t\troles.add(childRole);"},{"type":"INSERT","lineNumber":111,"content":"\t\t\t\t}"},{"type":"INSERT","lineNumber":112,"content":"\t\t\t\tcase \"triage_officer\": {"},{"type":"INSERT","lineNumber":113,"content":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_TRIAGE_OFFICER)"},{"type":"INSERT","lineNumber":114,"content":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role 'TRIAGE_OFFICER' is not found.\"));"},{"type":"INSERT","lineNumber":115,"content":"\t\t\t\t\troles.add(foundRole);"},{"type":"DELETE","lineNumber":121,"oldContent":"\t\t\t\tcase \"parent\":"},{"type":"DELETE","lineNumber":122,"oldContent":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role is not found.\"));"},{"type":"DELETE","lineNumber":123,"oldContent":""},{"type":"DELETE","lineNumber":124,"oldContent":"\t\t\t\tdefault:"},{"type":"DELETE","lineNumber":125,"oldContent":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role is not found.\"));"},{"type":"DELETE","lineNumber":127,"oldContent":"\t\t}"},{"type":"DELETE","lineNumber":128,"oldContent":"\t\tuser.setRoles(roles);"},{"type":"DELETE","lineNumber":129,"oldContent":"\t\tuser.setEmail(signUpRequest.getEmail());"},{"type":"DELETE","lineNumber":130,"oldContent":"\t\tuser.setGender(signUpRequest.getGender());"},{"type":"DELETE","lineNumber":131,"oldContent":"\t\tuserRepository.save(user);"},{"type":"DELETE","lineNumber":132,"oldContent":"\t\treturn ResponseEntity.ok(new MessageResponse(\"User registered successfully!\"));"},{"type":"DELETE","lineNumber":133,"oldContent":"}"},{"type":"INSERT","lineNumber":118,"content":"\t\t\t\tcase \"field_engineer\": {"},{"type":"INSERT","lineNumber":119,"content":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_FIELD_ENGINEER)"},{"type":"INSERT","lineNumber":120,"content":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role 'FIELD_ENGINEER' is not found.\"));"},{"type":"INSERT","lineNumber":121,"content":"\t\t\t\t\troles.add(foundRole);"},{"type":"INSERT","lineNumber":124,"content":"\t\t\t\tcase \"noc_engineer\": {"},{"type":"INSERT","lineNumber":125,"content":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_NOC_ENGINEER)"},{"type":"INSERT","lineNumber":126,"content":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role 'NOC_ENGINEER' is not found.\"));"},{"type":"INSERT","lineNumber":127,"content":"\t\t\t\t\troles.add(foundRole);"},{"type":"INSERT","lineNumber":128,"content":"\t\t\t\t\tbreak;"},{"type":"INSERT","lineNumber":129,"content":"\t\t\t\t}"},{"type":"INSERT","lineNumber":130,"content":"\t\t\t\tcase \"l1_engineer\": {"},{"type":"INSERT","lineNumber":131,"content":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_L1_ENGINEER)"},{"type":"INSERT","lineNumber":132,"content":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role 'L1_ENGINEER' is not found.\"));"},{"type":"INSERT","lineNumber":133,"content":"\t\t\t\t\troles.add(foundRole);"},{"type":"INSERT","lineNumber":134,"content":"\t\t\t\t\tbreak;"},{"type":"INSERT","lineNumber":135,"content":"\t\t\t\t}"},{"type":"INSERT","lineNumber":158,"content":"\t\t\t\t\tbreak;"},{"type":"INSERT","lineNumber":160,"content":"\t\t\t\tdefault:"},{"type":"INSERT","lineNumber":161,"content":"\t\t\t\t\t// Handles any role string that doesn't match a case"},{"type":"INSERT","lineNumber":162,"content":"\t\t\t\t\tthrow new RuntimeException(\"Error: Invalid role specified: \" + role);"},{"type":"INSERT","lineNumber":163,"content":"\t\t\t}"},{"type":"INSERT","lineNumber":164,"content":"\t\t});"},{"type":"INSERT","lineNumber":166,"content":"\t\tuser.setRoles(roles);"},{"type":"INSERT","lineNumber":167,"content":"\t\t//saving UserEntity to the database"},{"type":"INSERT","lineNumber":168,"content":"\t\tuserRepository.save(user);"},{"type":"INSERT","lineNumber":169,"content":""},{"type":"INSERT","lineNumber":170,"content":"\t\treturn ResponseEntity.ok(new MessageResponse(\"User registered successfully!\"));"},{"type":"DELETE","lineNumber":161,"oldContent":"\t\t}"},{"type":"DELETE","lineNumber":162,"oldContent":"\t\t\tdefault: return backendRole; // fallback if unknown"},{"type":"DELETE","lineNumber":163,"oldContent":"\t\t\tcase \"ROLE_NOC_ADMIN\": return \"NOC Admin\";"},{"type":"DELETE","lineNumber":164,"oldContent":"\t\t\tcase \"ROLE_CXO\": return \"CXO\";"},{"type":"DELETE","lineNumber":165,"oldContent":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"},{"type":"DELETE","lineNumber":166,"oldContent":"\t\t\tcase \"ROLE_TEAM_LEAD\": return \"Team Lead\";"},{"type":"DELETE","lineNumber":167,"oldContent":"\t\t\tcase \"ROLE_L1_ENGINEER\": return \"L1 Engineer\";"},{"type":"DELETE","lineNumber":168,"oldContent":"\t\t\tcase \"ROLE_NOC_ENGINEER\": return \"NOC Engineer\";"},{"type":"DELETE","lineNumber":169,"oldContent":"\t\t\tcase \"ROLE_FIELD_ENGINEER\": return \"Field Engineer\";"},{"type":"DELETE","lineNumber":170,"oldContent":"\t\t\tcase \"ROLE_TRIAGE_OFFICER\": return \"Triage Officer\";"},{"type":"DELETE","lineNumber":171,"oldContent":"\t\t\tcase \"ROLE_AGENT\": return \"Agent\";"},{"type":"MODIFY","lineNumber":174,"content":"\t\tswitch (backendRole) {","oldContent":"}"},{"type":"MODIFY","lineNumber":179,"content":"\t\t\tcase \"ROLE_NOC_ENGINEER\": return \"NOC_ENGINEER\";","oldContent":"\t\t\tcase \"ROLE_NOC_ENGINEER\": return \"NOC Engineer\";"},{"type":"INSERT","lineNumber":181,"content":"\t\t\tcase \"ROLE_TEAM_LEAD\": return \"Team Lead\";"},{"type":"INSERT","lineNumber":183,"content":"\t\t\tcase \"ROLE_CXO\": return \"CXO\";"},{"type":"INSERT","lineNumber":184,"content":"\t\t\tcase \"ROLE_NOC_ADMIN\": return \"NOC Admin\";"},{"type":"INSERT","lineNumber":185,"content":"\t\t\tdefault: return backendRole; // fallback if unknown"},{"type":"INSERT","lineNumber":186,"content":"\t\t}"},{"type":"INSERT","lineNumber":187,"content":"\t}"},{"type":"INSERT","lineNumber":188,"content":""},{"type":"INSERT","lineNumber":189,"content":"}"}]},{"timestamp":1761679569140,"changes":[{"type":"MODIFY","lineNumber":59,"content":"\t\t\t\tnew UsernamePasswordAuthenticationToken(loginRequest.getUsername(),","oldContent":"\t\t"},{"type":"MODIFY","lineNumber":80,"content":"\t\t\t\t));","oldContent":"\tpublic ResponseEntity<?> registerUser(@Valid @RequestBody SignupRequest signUpRequest) {"},{"type":"MODIFY","lineNumber":90,"content":"","oldContent":"\t\tif (userRepository.existsByEmail(signUpRequest.getEmail())) {"},{"type":"MODIFY","lineNumber":94,"content":"","oldContent":"\t\t// Create new user's account"},{"type":"MODIFY","lineNumber":105,"content":"\t\t\t\t}","oldContent":"\t\t\tstrRoles.forEach(role -> {"},{"type":"INSERT","lineNumber":110,"content":"\t\t\t\t\tbreak;"},{"type":"DELETE","lineNumber":115,"oldContent":"\t\t\t\t\tRole childRole = roleRepository.findByName(ERole.ROLE_CHILD)"},{"type":"INSERT","lineNumber":116,"content":"\t\t\t\t\tbreak;"},{"type":"INSERT","lineNumber":117,"content":"\t\t\t\t}"},{"type":"DELETE","lineNumber":119,"oldContent":"\t\t\t\tcase \"parent\":"},{"type":"INSERT","lineNumber":122,"content":"\t\t\t\t\tbreak;"},{"type":"INSERT","lineNumber":123,"content":"\t\t\t\t}"},{"type":"DELETE","lineNumber":124,"oldContent":"\t\t\t\tdefault:"},{"type":"DELETE","lineNumber":133,"oldContent":"\t\tuser.setRoles(roles);"},{"type":"DELETE","lineNumber":135,"oldContent":"\t\t\t\t}"},{"type":"MODIFY","lineNumber":157,"content":"\t\t\t\t\troles.add(foundRole);","oldContent":""},{"type":"DELETE","lineNumber":159,"oldContent":"\t}"},{"type":"MODIFY","lineNumber":159,"content":"\t\t\t\t}","oldContent":"\t\t}"},{"type":"DELETE","lineNumber":162,"oldContent":"\t\t\tdefault: return backendRole; // fallback if unknown"},{"type":"INSERT","lineNumber":165,"content":""},{"type":"INSERT","lineNumber":171,"content":"\t}"},{"type":"MODIFY","lineNumber":173,"content":"\tprivate String mapRoleToFrontend(String backendRole) {","oldContent":"}"},{"type":"MODIFY","lineNumber":180,"content":"\t\t\tcase \"ROLE_L1_ENGINEER\": return \"L1_ENGINEER\";","oldContent":"\t\t\tcase \"ROLE_NOC_ADMIN\": return \"NOC Admin\";"},{"type":"DELETE","lineNumber":183,"oldContent":"}"},{"type":"DELETE","lineNumber":185,"oldContent":""},{"type":"MODIFY","lineNumber":187,"content":"\t}","oldContent":"\t}"},{"type":"INSERT","lineNumber":188,"content":""},{"type":"INSERT","lineNumber":189,"content":"}"}]},{"timestamp":1761679577431,"changes":[{"type":"MODIFY","lineNumber":10,"content":"import com.capstone.tele_ticketing_backend_1.entities.Role;","oldContent":"import com.prodapt.springsecurityusingjwtexample.security.payload.request.SignupRequest;"},{"type":"MODIFY","lineNumber":25,"content":"import org.springframework.security.core.context.SecurityContextHolder;","oldContent":"import java.util.HashSet;"},{"type":"MODIFY","lineNumber":92,"content":"\t\tAppUser user = new AppUser(signUpRequest.getUsername(),","oldContent":"\t\t// Create new user's account"},{"type":"MODIFY","lineNumber":106,"content":"\t\t\t\tcase \"agent\": {","oldContent":"\t\t\t\tswitch (role) {"},{"type":"MODIFY","lineNumber":118,"content":"\t\t\t\tcase \"field_engineer\": {","oldContent":"\t\t\t\tcase \"field_engineer\": {"},{"type":"DELETE","lineNumber":122,"oldContent":"\t\t\t\tcase \"noc_engineer\": {"},{"type":"MODIFY","lineNumber":124,"content":"\t\t\t\tcase \"noc_engineer\": {","oldContent":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_NOC_ENGINEER)"},{"type":"INSERT","lineNumber":125,"content":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_NOC_ENGINEER)"},{"type":"DELETE","lineNumber":136,"oldContent":"\t\t//saving UserEntity to the database "},{"type":"DELETE","lineNumber":137,"oldContent":"\t\tuserRepository.save(user);"},{"type":"DELETE","lineNumber":138,"oldContent":"\t\treturn ResponseEntity.ok(new MessageResponse(\"User registered successfully!\"));"},{"type":"INSERT","lineNumber":136,"content":"\t\t\t\tcase \"manager\": {"},{"type":"INSERT","lineNumber":137,"content":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_MANAGER)"},{"type":"INSERT","lineNumber":138,"content":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role 'MANAGER' is not found.\"));"},{"type":"DELETE","lineNumber":142,"oldContent":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role 'NOC_ADMIN' is not found.\"));"},{"type":"MODIFY","lineNumber":142,"content":"\t\t\t\tcase \"team_lead\": {","oldContent":"\t\t\t\tcase \"noc_admin\": {"},{"type":"INSERT","lineNumber":143,"content":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_TEAM_LEAD)"},{"type":"INSERT","lineNumber":144,"content":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role 'TEAM_LEAD' is not found.\"));"},{"type":"DELETE","lineNumber":145,"oldContent":"\t\t\t\t\troles.add(foundRole);"},{"type":"INSERT","lineNumber":152,"content":"\t\t\t\t\tbreak;"},{"type":"INSERT","lineNumber":153,"content":"\t\t\t\t}"},{"type":"DELETE","lineNumber":153,"oldContent":""},{"type":"DELETE","lineNumber":154,"oldContent":"\t}"},{"type":"DELETE","lineNumber":155,"oldContent":"\t\t}"},{"type":"DELETE","lineNumber":156,"oldContent":"\t\t\tdefault: return backendRole; // fallback if unknown"},{"type":"INSERT","lineNumber":155,"content":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_NOC_ADMIN)"},{"type":"INSERT","lineNumber":156,"content":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role 'NOC_ADMIN' is not found.\"));"},{"type":"DELETE","lineNumber":163,"oldContent":""},{"type":"INSERT","lineNumber":165,"content":""},{"type":"DELETE","lineNumber":170,"oldContent":"\t}"},{"type":"INSERT","lineNumber":172,"content":""},{"type":"DELETE","lineNumber":181,"oldContent":"\t\t\tcase \"ROLE_TEAM_LEAD\": return \"Team Lead\";"},{"type":"DELETE","lineNumber":182,"oldContent":""},{"type":"INSERT","lineNumber":181,"content":"\t\t\tcase \"ROLE_TEAM_LEAD\": return \"TEAM_LEAD\";"},{"type":"INSERT","lineNumber":182,"content":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"},{"type":"INSERT","lineNumber":185,"content":"\t\t\tdefault: return backendRole; // fallback if unknown"},{"type":"INSERT","lineNumber":186,"content":"\t\t}"}]},{"timestamp":1761679582867,"changes":[{"type":"MODIFY","lineNumber":9,"content":"import com.capstone.tele_ticketing_backend_1.entities.ERole;","oldContent":"import com.prodapt.springsecurityusingjwtexample.security.payload.request.LoginRequest;"},{"type":"MODIFY","lineNumber":26,"content":"import org.springframework.security.crypto.password.PasswordEncoder;","oldContent":"import java.util.List;"},{"type":"INSERT","lineNumber":117,"content":"\t\t\t\t}"},{"type":"DELETE","lineNumber":118,"oldContent":"\t\t\t\tcase \"field_engineer\": {"},{"type":"INSERT","lineNumber":123,"content":"\t\t\t\t}"},{"type":"DELETE","lineNumber":125,"oldContent":"\t\t\t\t}"},{"type":"MODIFY","lineNumber":143,"content":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_TEAM_LEAD)","oldContent":"}"},{"type":"MODIFY","lineNumber":145,"content":"\t\t\t\t\troles.add(foundRole);","oldContent":"\t\t\t\t}"},{"type":"MODIFY","lineNumber":151,"content":"\t\t\t\t\troles.add(foundRole);","oldContent":"\t\t\t\tcase \"noc_admin\": {"},{"type":"DELETE","lineNumber":153,"oldContent":""},{"type":"INSERT","lineNumber":154,"content":"\t\t\t\tcase \"noc_admin\": {"},{"type":"MODIFY","lineNumber":165,"content":"","oldContent":""},{"type":"INSERT","lineNumber":171,"content":"\t}"},{"type":"DELETE","lineNumber":172,"oldContent":"\t\t}"},{"type":"MODIFY","lineNumber":182,"content":"\t\t\tcase \"ROLE_MANAGER\": return \"MANAGER\";","oldContent":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"},{"type":"MODIFY","lineNumber":187,"content":"\t}","oldContent":"\t}"}]},{"timestamp":1761679592380,"changes":[{"type":"MODIFY","lineNumber":146,"content":"\t\t\t\t\tbreak;","oldContent":"\t\t\t\tcase \"noc_admin\": {"},{"type":"DELETE","lineNumber":149,"oldContent":""},{"type":"DELETE","lineNumber":150,"oldContent":"\t}"},{"type":"INSERT","lineNumber":149,"content":"\t\t\t\t\tRole foundRole = roleRepository.findByName(ERole.ROLE_CXO)"},{"type":"INSERT","lineNumber":150,"content":"\t\t\t\t\t\t\t.orElseThrow(() -> new RuntimeException(\"Error: Role 'CXO' is not found.\"));"},{"type":"MODIFY","lineNumber":154,"content":"\t\t\t\tcase \"noc_admin\": {","oldContent":"\t\t\t\tcase \"noc_admin\": {"},{"type":"INSERT","lineNumber":164,"content":"\t\t});"},{"type":"DELETE","lineNumber":165,"oldContent":""},{"type":"MODIFY","lineNumber":178,"content":"\t\t\tcase \"ROLE_FIELD_ENGINEER\": return \"FIELD_ENGINEER\";","oldContent":"}"},{"type":"MODIFY","lineNumber":184,"content":"\t\t\tcase \"ROLE_NOC_ADMIN\": return \"NOC_ADMIN\";","oldContent":"}"},{"type":"INSERT","lineNumber":186,"content":"\t\t}"},{"type":"DELETE","lineNumber":187,"oldContent":"\t}"},{"type":"INSERT","lineNumber":188,"content":""},{"type":"INSERT","lineNumber":189,"content":"}"}]},{"timestamp":1761713222138,"changes":[{"type":"DELETE","lineNumber":140,"oldContent":"\t\tuserRepository.save(user);"},{"type":"DELETE","lineNumber":141,"oldContent":""},{"type":"INSERT","lineNumber":140,"content":"\t\t\t\t\tbreak;"},{"type":"INSERT","lineNumber":141,"content":"\t\t\t\t}"},{"type":"MODIFY","lineNumber":148,"content":"\t\t\t\tcase \"cxo\": {","oldContent":"\t\t\t\t}"},{"type":"INSERT","lineNumber":153,"content":"\t\t\t\t}"},{"type":"DELETE","lineNumber":154,"oldContent":"\t\t\t\tcase \"noc_admin\": {"},{"type":"DELETE","lineNumber":175,"oldContent":"\t\t\tcase \"ROLE_CUSTOMER\": return \"CUSTOMER\";"},{"type":"DELETE","lineNumber":176,"oldContent":"\t\t\tcase \"ROLE_AGENT\": return \"AGENT\";"},{"type":"DELETE","lineNumber":177,"oldContent":"\t\t\tcase \"ROLE_TRIAGE_OFFICER\": return \"TRIAGE_OFFICER\";"},{"type":"DELETE","lineNumber":178,"oldContent":"\t\t\tcase \"ROLE_FIELD_ENGINEER\": return \"FIELD_ENGINEER\";"},{"type":"DELETE","lineNumber":179,"oldContent":"\t\t\tcase \"ROLE_NOC_ENGINEER\": return \"NOC_ENGINEER\";"},{"type":"DELETE","lineNumber":180,"oldContent":"\t\t\tcase \"ROLE_L1_ENGINEER\": return \"L1_ENGINEER\";"},{"type":"DELETE","lineNumber":181,"oldContent":"\t\t\tcase \"ROLE_TEAM_LEAD\": return \"TEAM_LEAD\";"},{"type":"DELETE","lineNumber":182,"oldContent":"\t\t\tcase \"ROLE_MANAGER\": return \"MANAGER\";"},{"type":"INSERT","lineNumber":175,"content":"\t\t\tcase \"ROLE_CUSTOMER\": return \"Customer\";"},{"type":"INSERT","lineNumber":176,"content":"\t\t\tcase \"ROLE_AGENT\": return \"Agent\";"},{"type":"INSERT","lineNumber":177,"content":"\t\t\tcase \"ROLE_TRIAGE_OFFICER\": return \"Triage Officer\";"},{"type":"INSERT","lineNumber":178,"content":"\t\t\tcase \"ROLE_FIELD_ENGINEER\": return \"Field Engineer\";"},{"type":"INSERT","lineNumber":179,"content":"\t\t\tcase \"ROLE_NOC_ENGINEER\": return \"NOC Engineer\";"},{"type":"INSERT","lineNumber":180,"content":"\t\t\tcase \"ROLE_L1_ENGINEER\": return \"L1 Engineer\";"},{"type":"INSERT","lineNumber":181,"content":"\t\t\tcase \"ROLE_TEAM_LEAD\": return \"Team Lead\";"},{"type":"INSERT","lineNumber":182,"content":"\t\t\tcase \"ROLE_MANAGER\": return \"Manager\";"},{"type":"MODIFY","lineNumber":184,"content":"\t\t\tcase \"ROLE_NOC_ADMIN\": return \"NOC Admin\";","oldContent":"\t\t\tcase \"ROLE_NOC_ADMIN\": return \"NOC_ADMIN\";"}]},{"timestamp":1761715557241,"changes":[{"type":"DELETE","lineNumber":3,"oldContent":"import com.prodapt.springsecurityusingjwtexample.entities.ERole;"},{"type":"DELETE","lineNumber":4,"oldContent":"import com.prodapt.springsecurityusingjwtexample.entities.Role;"},{"type":"DELETE","lineNumber":5,"oldContent":"import com.prodapt.springsecurityusingjwtexample.entities.UserEntity;"},{"type":"DELETE","lineNumber":6,"oldContent":"import com.prodapt.springsecurityusingjwtexample.repositories.RoleRepository;"},{"type":"DELETE","lineNumber":7,"oldContent":"import com.prodapt.springsecurityusingjwtexample.repositories.UserRepository;"},{"type":"INSERT","lineNumber":3,"content":"import java.util.HashSet;"},{"type":"INSERT","lineNumber":4,"content":"import java.util.List;"},{"type":"INSERT","lineNumber":5,"content":"import java.util.Set;"},{"type":"INSERT","lineNumber":6,"content":"import java.util.stream.Collectors;"},{"type":"INSERT","lineNumber":7,"content":""},{"type":"MODIFY","lineNumber":20,"content":"import org.springframework.http.ResponseEntity;","oldContent":"import org.springframework.security.core.context.SecurityContextHolder;"},{"type":"MODIFY","lineNumber":54,"content":"","oldContent":"\t\t\t\tnew UsernamePasswordAuthenticationToken(loginRequest.getUsername(), "},{"type":"MODIFY","lineNumber":61,"content":"","oldContent":"\t\tList<String> roles = userDetails.getAuthorities().stream()"},{"type":"DELETE","lineNumber":65,"oldContent":"\t\treturn ResponseEntity.ok(new JwtResponse(jwt, "},{"type":"DELETE","lineNumber":66,"oldContent":"\t\t\t\t\t\t\t\t\t\t\t\t userDetails.getId(), "},{"type":"INSERT","lineNumber":65,"content":"\t\tUserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();"},{"type":"INSERT","lineNumber":66,"content":"\t\tList<String> roles = userDetails.getAuthorities().stream()"},{"type":"INSERT","lineNumber":85,"content":"\t\tSystem.out.println();"},{"type":"MODIFY","lineNumber":96,"content":"\t\tSet<String> strRoles = signUpRequest.getRole();","oldContent":"\t\t\t\t\t\t\t encoder.encode(signUpRequest.getPassword()));"},{"type":"DELETE","lineNumber":139,"oldContent":"\t\tuserRepository.save(user);"},{"type":"INSERT","lineNumber":140,"content":"\t\t\t\t\troles.add(foundRole);"},{"type":"MODIFY","lineNumber":148,"content":"\t\t\t\t}","oldContent":"\t}"},{"type":"DELETE","lineNumber":183,"oldContent":"}"},{"type":"INSERT","lineNumber":184,"content":"\t\t\tcase \"ROLE_CXO\": return \"CXO\";"},{"type":"INSERT","lineNumber":188,"content":"\t}"},{"type":"INSERT","lineNumber":189,"content":""}]},{"timestamp":1761715568638,"changes":[{"type":"MODIFY","lineNumber":21,"content":"import org.springframework.security.authentication.AuthenticationManager;","oldContent":"import org.springframework.security.crypto.password.PasswordEncoder;"},{"type":"MODIFY","lineNumber":30,"content":"import org.springframework.web.bind.annotation.RequestMapping;","oldContent":""},{"type":"MODIFY","lineNumber":32,"content":"","oldContent":"@CrossOrigin(origins = \"*\", maxAge = 3600)"},{"type":"MODIFY","lineNumber":39,"content":"public class AuthController {","oldContent":"\tUserRepository userRepository;"},{"type":"MODIFY","lineNumber":85,"content":"\t\tSystem.out.println(\"Signup request : \" + );","oldContent":"\t\tSystem.out.println();"},{"type":"DELETE","lineNumber":96,"oldContent":"\t\t\t\t\t\t\t encoder.encode(signUpRequest.getPassword()));"},{"type":"INSERT","lineNumber":97,"content":"\t\tSet<Role> roles = new HashSet<>();"},{"type":"DELETE","lineNumber":148,"oldContent":"\t}"},{"type":"INSERT","lineNumber":149,"content":"\t\t\t\tcase \"cxo\": {"},{"type":"DELETE","lineNumber":188,"oldContent":"}"},{"type":"INSERT","lineNumber":190,"content":"}"}]},{"timestamp":1761715572300,"changes":[{"type":"MODIFY","lineNumber":11,"content":"import com.capstone.tele_ticketing_backend_1.repo.RoleRepo;","oldContent":"import com.prodapt.springsecurityusingjwtexample.security.payload.response.JwtResponse;"},{"type":"DELETE","lineNumber":34,"oldContent":"public class AuthController {"},{"type":"INSERT","lineNumber":35,"content":""},{"type":"MODIFY","lineNumber":45,"content":"","oldContent":"\tPasswordEncoder encoder;"},{"type":"MODIFY","lineNumber":82,"content":"","oldContent":"\t\t\t\t\t.body(new MessageResponse(\"Error: Username is already taken!\"));"},{"type":"MODIFY","lineNumber":85,"content":"\t\tSystem.out.println(\"Signup request : \" + signUpRequest);","oldContent":"\t\tSystem.out.println(\"Signup request : \" + );"},{"type":"MODIFY","lineNumber":97,"content":"\t\tSet<Role> roles = new HashSet<>();","oldContent":"\t\tSet<Role> roles = new HashSet<>();"},{"type":"MODIFY","lineNumber":149,"content":"\t\t\t\tcase \"cxo\": {","oldContent":"\t\t\t\tcase \"cxo\": {"},{"type":"MODIFY","lineNumber":186,"content":"\t\t\tdefault: return backendRole; // fallback if unknown","oldContent":"}"},{"type":"MODIFY","lineNumber":190,"content":"}","oldContent":"}"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/ERole.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/entities/ERole.java","baseContent":"package com.capstone.tele_ticketing_backend_1.entities;\n\npublic enum ERole {\n    ROLE_CUSTOMER, ROLE_\n}\n","baseTimestamp":1761595430643,"deltas":[{"timestamp":1761595452976,"changes":[{"type":"MODIFY","lineNumber":3,"content":"    ROLE_CUSTOMER, ROLE_FIELDENGINEER, ROLE_NOCENGINEER, ROLE_","oldContent":"    ROLE_CUSTOMER, ROLE_"}]},{"timestamp":1761595463630,"changes":[{"type":"MODIFY","lineNumber":3,"content":"    ROLE_CUSTOMER, ROLE_FIELDENGINEER, ROLE_NOCENGINEER, ROLE_L1ENGINEER","oldContent":"    ROLE_CUSTOMER, ROLE_FIELDENGINEER, ROLE_NOCENGINEER, ROLE_"}]},{"timestamp":1761677078976,"changes":[{"type":"MODIFY","lineNumber":3,"content":"    ROLE_CUSTOMER,","oldContent":"    ROLE_CUSTOMER, ROLE_FIELDENGINEER, ROLE_NOCENGINEER, ROLE_L1ENGINEER"},{"type":"INSERT","lineNumber":4,"content":"    ROLE_AGENT,"},{"type":"INSERT","lineNumber":5,"content":"    ROLE_TRIAGE_OFFICER,"},{"type":"INSERT","lineNumber":6,"content":"    ROLE_FIELD_ENGINEER,"},{"type":"INSERT","lineNumber":7,"content":"    ROLE_NOC_ENGINEER,"},{"type":"INSERT","lineNumber":8,"content":"    ROLE_L1_ENGINEER,"},{"type":"INSERT","lineNumber":9,"content":"    ROLE_MANAGER,"},{"type":"INSERT","lineNumber":10,"content":"    ROLE_TEAM_LEAD,"},{"type":"INSERT","lineNumber":11,"content":"    ROLE_CXO,"},{"type":"INSERT","lineNumber":12,"content":"    ROLE_NOC_ADMIN"},{"type":"DELETE","lineNumber":5,"oldContent":""}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/service/UserDetailsImpl.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/service/UserDetailsImpl.java","baseContent":"package com.capstone.tele_ticketing_backend_1.security.service;\n\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.prodapt.springsecurityusingjwtexample.entities.UserEntity;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\n\n\n\npublic class UserDetailsImpl implements UserDetails {\n\tprivate static final long serialVersionUID = 1L;\n\n\tprivate Long id;\n\n\tprivate String username;\n\n\tprivate String email;\n\n\t@JsonIgnore\n\tprivate String password;\n\n\tprivate Collection<? extends GrantedAuthority> authorities;\n\n\tpublic UserDetailsImpl(Long id, String username, String email, String password,\n\t\t\tCollection<? extends GrantedAuthority> authorities) {\n\t\tthis.id = id;\n\t\tthis.username = username;\n\t\tthis.email = email;\n\t\tthis.password = password;\n\t\tthis.authorities = authorities;\n\t}\n\n\tpublic static UserDetailsImpl build(UserEntity user) {\n\t\tList<GrantedAuthority> authorities = user.getRoles().stream()\n\t\t\t\t.map(role -> new SimpleGrantedAuthority(role.getName().name()))\n\t\t\t\t.collect(Collectors.toList());\n\n\t\treturn new UserDetailsImpl(\n\t\t\t\tuser.getId(), \n\t\t\t\tuser.getUsername(), \n\t\t\t\tuser.getEmail(),\n\t\t\t\tuser.getPassword(), \n\t\t\t\tauthorities);\n\t}\n\n\t@Override\n\tpublic Collection<? extends GrantedAuthority> getAuthorities() {\n\t\treturn authorities;\n\t}\n\n\tpublic Long getId() {\n\t\treturn id;\n\t}\n\n\tpublic String getEmail() {\n\t\treturn email;\n\t}\n\n\t@Override\n\tpublic String getPassword() {\n\t\treturn password;\n\t}\n\n\t@Override\n\tpublic String getUsername() {\n\t\treturn username;\n\t}\n\n\t@Override\n\tpublic boolean isAccountNonExpired() {\n\t\treturn true;\n\t}\n\n\t@Override\n\tpublic boolean isAccountNonLocked() {\n\t\treturn true;\n\t}\n\n\t@Override\n\tpublic boolean isCredentialsNonExpired() {\n\t\treturn true;\n\t}\n\n\t@Override\n\tpublic boolean isEnabled() {\n\t\treturn true;\n\t}\n\n\t@Override\n\tpublic boolean equals(Object o) {\n\t\tif (this == o)\n\t\t\treturn true;\n\t\tif (o == null || getClass() != o.getClass())\n\t\t\treturn false;\n\t\tUserDetailsImpl user = (UserDetailsImpl) o;\n\t\treturn Objects.equals(id, user.id);\n\t}\n}\n","baseTimestamp":1761595687814,"deltas":[{"timestamp":1761629757280,"changes":[{"type":"MODIFY","lineNumber":6,"content":"import org.springframework.security.core.authority.SimpleGrantedAuthority;","oldContent":"import org.springframework.security.core.GrantedAuthority;"},{"type":"MODIFY","lineNumber":41,"content":"\t\t\t\tauthority);","oldContent":"\t\t\t\tthis.authorities);"},{"type":"MODIFY","lineNumber":66,"content":"\t}","oldContent":"\tpublic boolean isAccountNonExpired() {"},{"type":"INSERT","lineNumber":67,"content":""},{"type":"INSERT","lineNumber":68,"content":"\t@Override"},{"type":"INSERT","lineNumber":69,"content":"\tpublic boolean isAccountNonLocked() {"},{"type":"DELETE","lineNumber":70,"oldContent":""},{"type":"DELETE","lineNumber":72,"oldContent":"\t@Override"},{"type":"DELETE","lineNumber":74,"oldContent":"\tpublic boolean isAccountNonLocked() {"},{"type":"DELETE","lineNumber":94,"oldContent":"\t\treturn Objects.equals(id, user.id);"},{"type":"DELETE","lineNumber":95,"oldContent":"\t}"},{"type":"DELETE","lineNumber":96,"oldContent":"}"},{"type":"DELETE","lineNumber":97,"oldContent":""}]},{"timestamp":1761629762278,"changes":[{"type":"MODIFY","lineNumber":34,"content":"\tpublic static UserDetailsImpl build(AppUser user) {","oldContent":"\t\tthis.authorities = authorities;"},{"type":"MODIFY","lineNumber":39,"content":"\t\t\t\tuser.getUsername(),","oldContent":"\t\t\t\t.map(role -> new SimpleGrantedAuthority(role.getName().name()))"},{"type":"DELETE","lineNumber":69,"oldContent":"\t@Override"},{"type":"DELETE","lineNumber":70,"oldContent":"\tpublic boolean isAccountNonExpired() {"},{"type":"INSERT","lineNumber":72,"content":""},{"type":"INSERT","lineNumber":73,"content":"\t@Override"},{"type":"DELETE","lineNumber":94,"oldContent":""}]},{"timestamp":1761629776001,"changes":[{"type":"DELETE","lineNumber":40,"oldContent":"\t\t\t\tuser.getPassword(), "},{"type":"DELETE","lineNumber":41,"oldContent":"\t\t\t\tauthority);"},{"type":"INSERT","lineNumber":40,"content":"\t\t\t\tuser.getPassword(),"},{"type":"INSERT","lineNumber":41,"content":"\t\t\t\tauthorities);"},{"type":"INSERT","lineNumber":54,"content":"\tpublic String getPassword() {"},{"type":"INSERT","lineNumber":55,"content":"\t\treturn password;"},{"type":"DELETE","lineNumber":56,"oldContent":"\t}"},{"type":"DELETE","lineNumber":57,"oldContent":""},{"type":"DELETE","lineNumber":70,"oldContent":""},{"type":"MODIFY","lineNumber":72,"content":"","oldContent":"\t@Override"},{"type":"INSERT","lineNumber":73,"content":"\t@Override"},{"type":"MODIFY","lineNumber":86,"content":"\t\t\treturn true;","oldContent":"\t\treturn true;"},{"type":"MODIFY","lineNumber":88,"content":"\t\t\treturn false;","oldContent":""}]},{"timestamp":1761629819485,"changes":[{"type":"INSERT","lineNumber":36,"content":"\t\tCollection<? extends GrantedAuthority> authorities = "},{"type":"DELETE","lineNumber":44,"oldContent":"\t\t\t\tuser.getUsername(), "},{"type":"INSERT","lineNumber":45,"content":"\t@Override"},{"type":"DELETE","lineNumber":53,"oldContent":"\t}"},{"type":"INSERT","lineNumber":54,"content":"\t@Override"},{"type":"DELETE","lineNumber":55,"oldContent":""},{"type":"MODIFY","lineNumber":57,"content":"\t}","oldContent":"\tpublic Long getId() {"},{"type":"INSERT","lineNumber":58,"content":""},{"type":"INSERT","lineNumber":72,"content":"\t}"},{"type":"DELETE","lineNumber":73,"oldContent":"\t}"}]},{"timestamp":1761629826200,"changes":[{"type":"INSERT","lineNumber":12,"content":"import java.util.stream.Collectors;"},{"type":"MODIFY","lineNumber":37,"content":"\t\tCollection<? extends GrantedAuthority> authorities =","oldContent":"\t\tCollection<? extends GrantedAuthority> authorities = "},{"type":"INSERT","lineNumber":38,"content":"\t\t\t\tList<GrantedAuthority> authorities = user.getRoles().stream()"},{"type":"INSERT","lineNumber":39,"content":"\t\t\t\t\t\t.map(role -> new SimpleGrantedAuthority(role.getName().name()))"},{"type":"INSERT","lineNumber":40,"content":"\t\t\t\t\t\t.collect(Collectors.toList());"},{"type":"DELETE","lineNumber":72,"oldContent":""},{"type":"INSERT","lineNumber":77,"content":""},{"type":"DELETE","lineNumber":88,"oldContent":""},{"type":"INSERT","lineNumber":92,"content":"\t\tif (o == null || getClass() != o.getClass())"}]},{"timestamp":1761629832248,"changes":[{"type":"MODIFY","lineNumber":29,"content":"\t\tthis.id = id;","oldContent":"\tpublic UserDetailsImpl(Long id, String username, String email, String password,"},{"type":"DELETE","lineNumber":38,"oldContent":"\t\tCollection<? extends GrantedAuthority> authorities ="},{"type":"DELETE","lineNumber":40,"oldContent":"\t\treturn new UserDetailsImpl("},{"type":"DELETE","lineNumber":42,"oldContent":"\t\t\t\tuser.getId(), "},{"type":"INSERT","lineNumber":41,"content":""},{"type":"INSERT","lineNumber":42,"content":"\t\treturn new UserDetailsImpl("},{"type":"INSERT","lineNumber":43,"content":"\t\t\t\tuser.getId(), "},{"type":"MODIFY","lineNumber":73,"content":"\t@Override","oldContent":"\tpublic boolean isAccountNonExpired() {"},{"type":"INSERT","lineNumber":75,"content":"\t\treturn true;"},{"type":"DELETE","lineNumber":76,"oldContent":"\t}"},{"type":"INSERT","lineNumber":77,"content":""},{"type":"DELETE","lineNumber":80,"oldContent":""},{"type":"INSERT","lineNumber":92,"content":"\t\tif (o == null || getClass() != o.getClass())"},{"type":"DELETE","lineNumber":95,"oldContent":"\t\tif (o == null || getClass() != o.getClass())"}]},{"timestamp":1761629843613,"changes":[{"type":"MODIFY","lineNumber":37,"content":"\t\tCollection<? extends GrantedAuthority> authorities = Collections","oldContent":"\t\tCollection<? extends GrantedAuthority> authorities = "},{"type":"DELETE","lineNumber":39,"oldContent":""},{"type":"INSERT","lineNumber":40,"content":"\t\t\t\t\t\t.collect(Collectors.toList());"},{"type":"INSERT","lineNumber":41,"content":""},{"type":"DELETE","lineNumber":43,"oldContent":"\t\t\t\t\t\t.collect(Collectors.toList());"}]},{"timestamp":1761629853519,"changes":[{"type":"MODIFY","lineNumber":31,"content":"\t\tthis.password = password;","oldContent":"\t\tthis.id = id;"},{"type":"DELETE","lineNumber":38,"oldContent":"\t\t\t\tList<GrantedAuthority> authorities = user.getRoles().stream()"},{"type":"DELETE","lineNumber":39,"oldContent":"\t\t\t\t\t\t.collect(Collectors.toList());"},{"type":"INSERT","lineNumber":38,"content":"\t\t\t\tList<GrantedAuthority> authorities = user.getRole().stream()"},{"type":"INSERT","lineNumber":40,"content":"\t\t\t\t\t\t.collect(Collectors.toList());"},{"type":"MODIFY","lineNumber":51,"content":"\t\treturn authority;","oldContent":"\t\t\t\tuser.getPassword(), "}]},{"timestamp":1761629858816,"changes":[{"type":"MODIFY","lineNumber":21,"content":"","oldContent":"\tprivate String username;"},{"type":"MODIFY","lineNumber":30,"content":"\t\tthis.username = username;","oldContent":"\t\t\tCollection<? extends GrantedAuthority> authorities) {"},{"type":"MODIFY","lineNumber":34,"content":"","oldContent":"\t\tthis.password = password;"},{"type":"MODIFY","lineNumber":37,"content":"//\t\tCollection<? extends GrantedAuthority> authorities = Collections","oldContent":"\t\tCollection<? extends GrantedAuthority> authorities = Collections"},{"type":"MODIFY","lineNumber":40,"content":"\t\t\t\t\t\t.collect(Collectors.toList());","oldContent":"\t\t\t\t\t\t.collect(Collectors.toList());"},{"type":"MODIFY","lineNumber":56,"content":"\t}","oldContent":"\tpublic Collection<? extends GrantedAuthority> getAuthorities() {"},{"type":"MODIFY","lineNumber":76,"content":"\t}","oldContent":"\t\treturn true;"},{"type":"MODIFY","lineNumber":90,"content":"\t\tif (this == o)","oldContent":"\tpublic boolean isCredentialsNonExpired() {"}]},{"timestamp":1761630135876,"changes":[{"type":"MODIFY","lineNumber":38,"content":"\t\t\t\t\t\t.map(role -> new SimpleGrantedAuthority(role.getName().name()))","oldContent":"//\t\tCollection<? extends GrantedAuthority> authorities = Collections"},{"type":"DELETE","lineNumber":40,"oldContent":"\t\t\t\t\t\t.collect(Collectors.toList());"},{"type":"DELETE","lineNumber":47,"oldContent":"\t\treturn new UserDetailsImpl("},{"type":"INSERT","lineNumber":46,"content":"\t}"}]},{"timestamp":1761630150896,"changes":[{"type":"DELETE","lineNumber":13,"oldContent":"import java.util.Objects;"},{"type":"DELETE","lineNumber":14,"oldContent":"import java.util.stream.Collectors;"},{"type":"INSERT","lineNumber":13,"content":""},{"type":"INSERT","lineNumber":14,"content":""},{"type":"MODIFY","lineNumber":37,"content":"\t\tList<GrantedAuthority> authorities = user.getRole().stream()","oldContent":"//\t\tCollection<? extends GrantedAuthority> authorities = Collections"},{"type":"MODIFY","lineNumber":46,"content":"\t}","oldContent":"\t}"},{"type":"DELETE","lineNumber":98,"oldContent":"\t\t\treturn false;"},{"type":"DELETE","lineNumber":99,"oldContent":"\t\tUserDetailsImpl user = (UserDetailsImpl) o;"},{"type":"DELETE","lineNumber":100,"oldContent":"\t\treturn Objects.equals(id, user.id);"},{"type":"DELETE","lineNumber":101,"oldContent":"\t}"},{"type":"DELETE","lineNumber":102,"oldContent":"}"},{"type":"DELETE","lineNumber":103,"oldContent":""}]},{"timestamp":1761630226019,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":""},{"type":"MODIFY","lineNumber":9,"content":"import java.util.Collections;","oldContent":"import java.util.List;"},{"type":"DELETE","lineNumber":12,"oldContent":"import java.util.stream.Collectors;"},{"type":"DELETE","lineNumber":14,"oldContent":""},{"type":"DELETE","lineNumber":16,"oldContent":"\tprivate static final long serialVersionUID = 1L;"},{"type":"INSERT","lineNumber":13,"content":"    private static final long serialVersionUID = 1L;"},{"type":"DELETE","lineNumber":18,"oldContent":"\tprivate static final long serialVersionUID = 1L;"},{"type":"INSERT","lineNumber":15,"content":"    private Long id;"},{"type":"INSERT","lineNumber":16,"content":"    private String username;"},{"type":"DELETE","lineNumber":20,"oldContent":"\tprivate Long id;"},{"type":"INSERT","lineNumber":18,"content":"    @JsonIgnore"},{"type":"INSERT","lineNumber":19,"content":"    private String password;"},{"type":"DELETE","lineNumber":22,"oldContent":"\t@JsonIgnore"},{"type":"DELETE","lineNumber":23,"oldContent":"\tprivate String username;"},{"type":"INSERT","lineNumber":21,"content":"    private Collection<? extends GrantedAuthority> authorities;"},{"type":"DELETE","lineNumber":25,"oldContent":"\tprivate Collection<? extends GrantedAuthority> authorities;"},{"type":"INSERT","lineNumber":23,"content":"    public UserDetailsImpl(Long id, String username, String password,"},{"type":"INSERT","lineNumber":24,"content":"                           Collection<? extends GrantedAuthority> authorities) {"},{"type":"INSERT","lineNumber":25,"content":"        this.id = id;"},{"type":"INSERT","lineNumber":26,"content":"        this.username = username;"},{"type":"INSERT","lineNumber":27,"content":"        this.password = password;"},{"type":"INSERT","lineNumber":28,"content":"        this.authorities = authorities;"},{"type":"INSERT","lineNumber":29,"content":"    }"},{"type":"DELETE","lineNumber":27,"oldContent":"\tpublic UserDetailsImpl(Long id, String username, String password,"},{"type":"DELETE","lineNumber":28,"oldContent":"\t\t\t\t\t\t   Collection<? extends GrantedAuthority> authorities) {"},{"type":"DELETE","lineNumber":29,"oldContent":"\t\tthis.id = id;"},{"type":"DELETE","lineNumber":30,"oldContent":"\t\tthis.username = username;"},{"type":"DELETE","lineNumber":31,"oldContent":"\t\tthis.password = password;"},{"type":"DELETE","lineNumber":32,"oldContent":"\t\tthis.authorities = authorities;"},{"type":"DELETE","lineNumber":33,"oldContent":"\t\tthis.id = id;"},{"type":"INSERT","lineNumber":31,"content":"    // Build method to convert AppUser → UserDetailsImpl"},{"type":"INSERT","lineNumber":32,"content":"    public static UserDetailsImpl build(AppUser user) {"},{"type":"INSERT","lineNumber":33,"content":"        // Since user has a single Role"},{"type":"INSERT","lineNumber":34,"content":"        GrantedAuthority authority = new SimpleGrantedAuthority(user.getRole().getName().name());"},{"type":"DELETE","lineNumber":35,"oldContent":"\tpublic static UserDetailsImpl build(AppUser user) {"},{"type":"DELETE","lineNumber":36,"oldContent":"\t\tGrantedAuthority authority = new SimpleGrantedAuthority(user.getRole().getName().name());"},{"type":"DELETE","lineNumber":37,"oldContent":"\t\tList<GrantedAuthority> authorities = user.getRole().stream()"},{"type":"DELETE","lineNumber":38,"oldContent":"\t\t\t\t\t\t.map(role -> new SimpleGrantedAuthority(role.getName().name()))"},{"type":"DELETE","lineNumber":39,"oldContent":"\t\t\t\t\t\t.collect(Collectors.toList());"},{"type":"INSERT","lineNumber":36,"content":"        return new UserDetailsImpl("},{"type":"INSERT","lineNumber":37,"content":"                user.getId(),"},{"type":"INSERT","lineNumber":38,"content":"                user.getUsername(),"},{"type":"INSERT","lineNumber":39,"content":"                user.getPassword(),"},{"type":"INSERT","lineNumber":40,"content":"                Collections.singletonList(authority)"},{"type":"INSERT","lineNumber":41,"content":"        );"},{"type":"INSERT","lineNumber":42,"content":"    }"},{"type":"DELETE","lineNumber":41,"oldContent":"\t\treturn new UserDetailsImpl("},{"type":"DELETE","lineNumber":42,"oldContent":"\t\t\t\tuser.getId(), "},{"type":"DELETE","lineNumber":43,"oldContent":"\t\t\t\tuser.getUsername(),"},{"type":"DELETE","lineNumber":44,"oldContent":"\t\t\t\tuser.getPassword(),"},{"type":"DELETE","lineNumber":45,"oldContent":"\t}"},{"type":"DELETE","lineNumber":46,"oldContent":"\t}"},{"type":"INSERT","lineNumber":44,"content":"    @Override"},{"type":"INSERT","lineNumber":45,"content":"    public Collection<? extends GrantedAuthority> getAuthorities() {"},{"type":"INSERT","lineNumber":46,"content":"        return authorities;"},{"type":"INSERT","lineNumber":47,"content":"    }"},{"type":"DELETE","lineNumber":48,"oldContent":"\t@Override"},{"type":"DELETE","lineNumber":49,"oldContent":"\t\t\t\tuser.getId(), "},{"type":"DELETE","lineNumber":50,"oldContent":"\t\treturn authority;"},{"type":"DELETE","lineNumber":51,"oldContent":"\t}"},{"type":"INSERT","lineNumber":49,"content":"    public Long getId() {"},{"type":"INSERT","lineNumber":50,"content":"        return id;"},{"type":"INSERT","lineNumber":51,"content":"    }"},{"type":"DELETE","lineNumber":53,"oldContent":"\tpublic Long getId() {"},{"type":"DELETE","lineNumber":54,"oldContent":"\t\treturn id;"},{"type":"DELETE","lineNumber":55,"oldContent":"\t}"},{"type":"INSERT","lineNumber":53,"content":"    @Override"},{"type":"INSERT","lineNumber":54,"content":"    public String getPassword() {"},{"type":"INSERT","lineNumber":55,"content":"        return password;"},{"type":"INSERT","lineNumber":56,"content":"    }"},{"type":"DELETE","lineNumber":57,"oldContent":"\t@Override"},{"type":"DELETE","lineNumber":58,"oldContent":"\tpublic String getPassword() {"},{"type":"DELETE","lineNumber":59,"oldContent":"\t\treturn password;"},{"type":"DELETE","lineNumber":60,"oldContent":"\t}"},{"type":"INSERT","lineNumber":58,"content":"    @Override"},{"type":"INSERT","lineNumber":59,"content":"    public String getUsername() {"},{"type":"INSERT","lineNumber":60,"content":"        return username;"},{"type":"INSERT","lineNumber":61,"content":"    }"},{"type":"DELETE","lineNumber":62,"oldContent":"\t@Override"},{"type":"DELETE","lineNumber":63,"oldContent":"\tpublic String getUsername() {"},{"type":"DELETE","lineNumber":64,"oldContent":"\t\treturn username;"},{"type":"DELETE","lineNumber":65,"oldContent":"\t}"},{"type":"INSERT","lineNumber":63,"content":"    @Override"},{"type":"INSERT","lineNumber":64,"content":"    public boolean isAccountNonExpired() {"},{"type":"INSERT","lineNumber":65,"content":"        return true;"},{"type":"INSERT","lineNumber":66,"content":"    }"},{"type":"DELETE","lineNumber":67,"oldContent":"\t@Override"},{"type":"DELETE","lineNumber":68,"oldContent":"\tpublic boolean isAccountNonExpired() {"},{"type":"DELETE","lineNumber":69,"oldContent":"\t\treturn true;"},{"type":"DELETE","lineNumber":70,"oldContent":"\t}"},{"type":"INSERT","lineNumber":68,"content":"    @Override"},{"type":"INSERT","lineNumber":69,"content":"    public boolean isAccountNonLocked() {"},{"type":"INSERT","lineNumber":70,"content":"        return true;"},{"type":"INSERT","lineNumber":71,"content":"    }"},{"type":"DELETE","lineNumber":72,"oldContent":"\t@Override"},{"type":"DELETE","lineNumber":73,"oldContent":"\tpublic boolean isAccountNonLocked() {"},{"type":"DELETE","lineNumber":74,"oldContent":"\t\treturn true;"},{"type":"DELETE","lineNumber":75,"oldContent":"\t}"},{"type":"INSERT","lineNumber":73,"content":"    @Override"},{"type":"INSERT","lineNumber":74,"content":"    public boolean isCredentialsNonExpired() {"},{"type":"INSERT","lineNumber":75,"content":"        return true;"},{"type":"INSERT","lineNumber":76,"content":"    }"},{"type":"DELETE","lineNumber":77,"oldContent":"\t@Override"},{"type":"DELETE","lineNumber":78,"oldContent":"\tpublic boolean isCredentialsNonExpired() {"},{"type":"DELETE","lineNumber":79,"oldContent":"\t\treturn true;"},{"type":"DELETE","lineNumber":80,"oldContent":"\t}"},{"type":"INSERT","lineNumber":78,"content":"    @Override"},{"type":"INSERT","lineNumber":79,"content":"    public boolean isEnabled() {"},{"type":"INSERT","lineNumber":80,"content":"        return true;"},{"type":"INSERT","lineNumber":81,"content":"    }"},{"type":"DELETE","lineNumber":82,"oldContent":"\t@Override"},{"type":"DELETE","lineNumber":83,"oldContent":"\tpublic boolean isEnabled() {"},{"type":"DELETE","lineNumber":84,"oldContent":"\tpublic boolean isAccountNonExpired() {"},{"type":"DELETE","lineNumber":85,"oldContent":"\t}"},{"type":"DELETE","lineNumber":86,"oldContent":"\t@Override"},{"type":"DELETE","lineNumber":87,"oldContent":"\t\treturn true;"},{"type":"DELETE","lineNumber":88,"oldContent":""},{"type":"DELETE","lineNumber":89,"oldContent":"\t\tif (this == o)"},{"type":"DELETE","lineNumber":90,"oldContent":"\t\t\treturn true;"},{"type":"DELETE","lineNumber":91,"oldContent":"\t\tif (o == null || getClass() != o.getClass())"},{"type":"DELETE","lineNumber":92,"oldContent":"\t\t\treturn false;"},{"type":"DELETE","lineNumber":93,"oldContent":"\t\tUserDetailsImpl user = (UserDetailsImpl) o;"},{"type":"DELETE","lineNumber":94,"oldContent":"\t\treturn Objects.equals(id, user.id);"},{"type":"DELETE","lineNumber":95,"oldContent":"\t}"},{"type":"INSERT","lineNumber":83,"content":"    @Override"},{"type":"INSERT","lineNumber":84,"content":"    public boolean equals(Object o) {"},{"type":"INSERT","lineNumber":85,"content":"        if (this == o) return true;"},{"type":"INSERT","lineNumber":86,"content":"        if (o == null || getClass() != o.getClass()) return false;"},{"type":"INSERT","lineNumber":87,"content":"        UserDetailsImpl user = (UserDetailsImpl) o;"},{"type":"INSERT","lineNumber":88,"content":"        return Objects.equals(id, user.id);"},{"type":"INSERT","lineNumber":89,"content":"    }"}]},{"timestamp":1761634636981,"changes":[{"type":"INSERT","lineNumber":8,"content":"import java.util.Collection;"},{"type":"DELETE","lineNumber":11,"oldContent":"    private static final long serialVersionUID = 1L;"},{"type":"INSERT","lineNumber":12,"content":"import java.util.stream.Collectors;"},{"type":"DELETE","lineNumber":13,"oldContent":"    private Long id;"},{"type":"DELETE","lineNumber":15,"oldContent":"    private String username;"},{"type":"DELETE","lineNumber":16,"oldContent":"public class UserDetailsImpl implements UserDetails {"},{"type":"DELETE","lineNumber":17,"oldContent":"    @JsonIgnore"},{"type":"DELETE","lineNumber":18,"oldContent":"    private String password;"},{"type":"INSERT","lineNumber":15,"content":"\tprivate static final long serialVersionUID = 1L;"},{"type":"DELETE","lineNumber":20,"oldContent":"    private Collection<? extends GrantedAuthority> authorities;"},{"type":"INSERT","lineNumber":17,"content":"\tprivate Long id;"},{"type":"DELETE","lineNumber":22,"oldContent":"    public UserDetailsImpl(Long id, String username, String password,"},{"type":"DELETE","lineNumber":23,"oldContent":"                           Collection<? extends GrantedAuthority> authorities) {"},{"type":"INSERT","lineNumber":19,"content":"\tprivate String username;"},{"type":"DELETE","lineNumber":25,"oldContent":"        this.id = id;"},{"type":"DELETE","lineNumber":26,"oldContent":"        this.username = username;"},{"type":"INSERT","lineNumber":21,"content":"\tprivate String email;"},{"type":"DELETE","lineNumber":28,"oldContent":"        this.password = password;"},{"type":"DELETE","lineNumber":29,"oldContent":"        this.authorities = authorities;"},{"type":"DELETE","lineNumber":30,"oldContent":"    }"},{"type":"DELETE","lineNumber":31,"oldContent":"    // Build method to convert AppUser → UserDetailsImpl"},{"type":"DELETE","lineNumber":32,"oldContent":"    public static UserDetailsImpl build(AppUser user) {"},{"type":"DELETE","lineNumber":33,"oldContent":"        // Since user has a single Role"},{"type":"DELETE","lineNumber":34,"oldContent":"        GrantedAuthority authority = new SimpleGrantedAuthority(user.getRole().getName().name());"},{"type":"INSERT","lineNumber":23,"content":"\t@JsonIgnore"},{"type":"INSERT","lineNumber":24,"content":"\tprivate String password;"},{"type":"DELETE","lineNumber":36,"oldContent":"        return new UserDetailsImpl("},{"type":"DELETE","lineNumber":37,"oldContent":"                user.getId(),"},{"type":"DELETE","lineNumber":38,"oldContent":"                user.getUsername(),"},{"type":"DELETE","lineNumber":39,"oldContent":"                user.getPassword(),"},{"type":"DELETE","lineNumber":40,"oldContent":"                Collections.singletonList(authority)"},{"type":"INSERT","lineNumber":26,"content":"\tprivate Collection<? extends GrantedAuthority> authorities;"},{"type":"DELETE","lineNumber":42,"oldContent":"        );"},{"type":"DELETE","lineNumber":43,"oldContent":"    }"},{"type":"DELETE","lineNumber":44,"oldContent":"    @Override"},{"type":"DELETE","lineNumber":45,"oldContent":"    public Collection<? extends GrantedAuthority> getAuthorities() {"},{"type":"DELETE","lineNumber":46,"oldContent":"        return authorities;"},{"type":"DELETE","lineNumber":47,"oldContent":"    }"},{"type":"INSERT","lineNumber":28,"content":"\tpublic UserDetailsImpl(Long id, String username, String email, String password,"},{"type":"INSERT","lineNumber":29,"content":"\t\t\t\t\t\t   Collection<? extends GrantedAuthority> authorities) {"},{"type":"INSERT","lineNumber":30,"content":"\t\tthis.id = id;"},{"type":"INSERT","lineNumber":31,"content":"\t\tthis.username = username;"},{"type":"INSERT","lineNumber":32,"content":"\t\tthis.email = email;"},{"type":"INSERT","lineNumber":33,"content":"\t\tthis.password = password;"},{"type":"INSERT","lineNumber":34,"content":"\t\tthis.authorities = authorities;"},{"type":"INSERT","lineNumber":35,"content":"\t}"},{"type":"DELETE","lineNumber":49,"oldContent":"    public Long getId() {"},{"type":"DELETE","lineNumber":50,"oldContent":"        return id;"},{"type":"DELETE","lineNumber":51,"oldContent":"    }"},{"type":"INSERT","lineNumber":37,"content":"\tpublic static UserDetailsImpl build(UserEntity user) {"},{"type":"INSERT","lineNumber":38,"content":"\t\tList<GrantedAuthority> authorities = user.getRoles().stream()"},{"type":"INSERT","lineNumber":39,"content":"\t\t\t\t.map(role -> new SimpleGrantedAuthority(role.getName().name()))"},{"type":"INSERT","lineNumber":40,"content":"\t\t\t\t.collect(Collectors.toList());"},{"type":"DELETE","lineNumber":53,"oldContent":"    @Override"},{"type":"DELETE","lineNumber":54,"oldContent":"    public String getPassword() {"},{"type":"DELETE","lineNumber":55,"oldContent":"        return password;"},{"type":"DELETE","lineNumber":56,"oldContent":"    }"},{"type":"INSERT","lineNumber":42,"content":"\t\treturn new UserDetailsImpl("},{"type":"INSERT","lineNumber":43,"content":"\t\t\t\tuser.getId(),"},{"type":"INSERT","lineNumber":44,"content":"\t\t\t\tuser.getUsername(),"},{"type":"INSERT","lineNumber":45,"content":"\t\t\t\tuser.getEmail(),"},{"type":"INSERT","lineNumber":46,"content":"\t\t\t\tuser.getPassword(),"},{"type":"INSERT","lineNumber":47,"content":"\t\t\t\tauthorities);"},{"type":"INSERT","lineNumber":48,"content":"\t}"},{"type":"DELETE","lineNumber":58,"oldContent":"    @Override"},{"type":"DELETE","lineNumber":59,"oldContent":"    public String getUsername() {"},{"type":"DELETE","lineNumber":60,"oldContent":"        return username;"},{"type":"DELETE","lineNumber":61,"oldContent":"    }"},{"type":"INSERT","lineNumber":50,"content":"\t@Override"},{"type":"INSERT","lineNumber":51,"content":"\tpublic Collection<? extends GrantedAuthority> getAuthorities() {"},{"type":"INSERT","lineNumber":52,"content":"\t\treturn authorities;"},{"type":"INSERT","lineNumber":53,"content":"\t}"},{"type":"DELETE","lineNumber":63,"oldContent":"    @Override"},{"type":"DELETE","lineNumber":64,"oldContent":"    public boolean isAccountNonExpired() {"},{"type":"DELETE","lineNumber":65,"oldContent":"        return true;"},{"type":"DELETE","lineNumber":66,"oldContent":"    }"},{"type":"INSERT","lineNumber":55,"content":"\tpublic Long getId() {"},{"type":"INSERT","lineNumber":56,"content":"\t\treturn id;"},{"type":"INSERT","lineNumber":57,"content":"\t}"},{"type":"DELETE","lineNumber":68,"oldContent":"    @Override"},{"type":"DELETE","lineNumber":69,"oldContent":"    public boolean isAccountNonLocked() {"},{"type":"DELETE","lineNumber":70,"oldContent":"        return true;"},{"type":"DELETE","lineNumber":71,"oldContent":"    }"},{"type":"INSERT","lineNumber":59,"content":"\tpublic String getEmail() {"},{"type":"INSERT","lineNumber":60,"content":"\t\treturn email;"},{"type":"INSERT","lineNumber":61,"content":"\t}"},{"type":"DELETE","lineNumber":73,"oldContent":"    @Override"},{"type":"DELETE","lineNumber":74,"oldContent":"    public boolean isCredentialsNonExpired() {"},{"type":"DELETE","lineNumber":75,"oldContent":"        return true;"},{"type":"DELETE","lineNumber":76,"oldContent":"    }"},{"type":"INSERT","lineNumber":63,"content":"\t@Override"},{"type":"INSERT","lineNumber":64,"content":"\tpublic String getPassword() {"},{"type":"INSERT","lineNumber":65,"content":"\t\treturn password;"},{"type":"INSERT","lineNumber":66,"content":"\t}"},{"type":"DELETE","lineNumber":78,"oldContent":"    @Override"},{"type":"DELETE","lineNumber":79,"oldContent":"    public boolean isEnabled() {"},{"type":"DELETE","lineNumber":80,"oldContent":"        return true;"},{"type":"DELETE","lineNumber":81,"oldContent":"    }"},{"type":"INSERT","lineNumber":68,"content":"\t@Override"},{"type":"INSERT","lineNumber":69,"content":"\tpublic String getUsername() {"},{"type":"INSERT","lineNumber":70,"content":"\t\treturn username;"},{"type":"INSERT","lineNumber":71,"content":"\t}"},{"type":"DELETE","lineNumber":83,"oldContent":"    @Override"},{"type":"DELETE","lineNumber":84,"oldContent":"    public boolean equals(Object o) {"},{"type":"DELETE","lineNumber":85,"oldContent":"        if (this == o) return true;"},{"type":"DELETE","lineNumber":86,"oldContent":"        if (o == null || getClass() != o.getClass()) return false;"},{"type":"DELETE","lineNumber":87,"oldContent":"        UserDetailsImpl user = (UserDetailsImpl) o;"},{"type":"DELETE","lineNumber":88,"oldContent":"        return Objects.equals(id, user.id);"},{"type":"DELETE","lineNumber":89,"oldContent":"    }"},{"type":"INSERT","lineNumber":73,"content":"\t@Override"},{"type":"INSERT","lineNumber":74,"content":"\tpublic boolean isAccountNonExpired() {"},{"type":"INSERT","lineNumber":75,"content":"\t\treturn true;"},{"type":"INSERT","lineNumber":76,"content":"\t}"},{"type":"INSERT","lineNumber":77,"content":""},{"type":"INSERT","lineNumber":78,"content":"\t@Override"},{"type":"INSERT","lineNumber":79,"content":"\tpublic boolean isAccountNonLocked() {"},{"type":"INSERT","lineNumber":80,"content":"\t\treturn true;"},{"type":"INSERT","lineNumber":81,"content":"\t}"},{"type":"INSERT","lineNumber":82,"content":""},{"type":"INSERT","lineNumber":83,"content":"\t@Override"},{"type":"INSERT","lineNumber":84,"content":"\tpublic boolean isCredentialsNonExpired() {"},{"type":"INSERT","lineNumber":85,"content":"\t\treturn true;"},{"type":"INSERT","lineNumber":86,"content":"\t}"},{"type":"INSERT","lineNumber":87,"content":""},{"type":"INSERT","lineNumber":88,"content":"\t@Override"},{"type":"INSERT","lineNumber":89,"content":"\tpublic boolean isEnabled() {"},{"type":"INSERT","lineNumber":90,"content":"\t\treturn true;"},{"type":"INSERT","lineNumber":91,"content":"\t}"},{"type":"INSERT","lineNumber":92,"content":""},{"type":"INSERT","lineNumber":93,"content":"\t@Override"},{"type":"INSERT","lineNumber":94,"content":"\tpublic boolean equals(Object o) {"},{"type":"INSERT","lineNumber":95,"content":"\t\tif (this == o)"},{"type":"INSERT","lineNumber":96,"content":"\t\t\treturn true;"},{"type":"INSERT","lineNumber":97,"content":"\t\tif (o == null || getClass() != o.getClass())"},{"type":"INSERT","lineNumber":98,"content":"\t\t\treturn false;"},{"type":"INSERT","lineNumber":99,"content":"\t\tUserDetailsImpl user = (UserDetailsImpl) o;"},{"type":"INSERT","lineNumber":100,"content":"\t\treturn Objects.equals(id, user.id);"},{"type":"INSERT","lineNumber":101,"content":"\t}"}]},{"timestamp":1761634645837,"changes":[{"type":"INSERT","lineNumber":16,"content":""},{"type":"INSERT","lineNumber":18,"content":""},{"type":"DELETE","lineNumber":35,"oldContent":"\tpublic static UserDetailsImpl build(UserEntity user) {"},{"type":"INSERT","lineNumber":37,"content":"\tpublic static UserDetailsImpl build(AppUser user) {"},{"type":"DELETE","lineNumber":51,"oldContent":""},{"type":"INSERT","lineNumber":54,"content":""},{"type":"DELETE","lineNumber":76,"oldContent":""},{"type":"DELETE","lineNumber":82,"oldContent":""},{"type":"DELETE","lineNumber":91,"oldContent":"}"},{"type":"DELETE","lineNumber":93,"oldContent":"\t\treturn true;"},{"type":"DELETE","lineNumber":95,"oldContent":"\t}"},{"type":"DELETE","lineNumber":97,"oldContent":"\t\treturn Objects.equals(id, user.id);"},{"type":"DELETE","lineNumber":99,"oldContent":"\t\tUserDetailsImpl user = (UserDetailsImpl) o;"},{"type":"DELETE","lineNumber":101,"oldContent":"\t\t\treturn false;"},{"type":"INSERT","lineNumber":98,"content":"\t\t\treturn false;"},{"type":"INSERT","lineNumber":99,"content":"\t\tUserDetailsImpl user = (UserDetailsImpl) o;"},{"type":"INSERT","lineNumber":100,"content":"\t\treturn Objects.equals(id, user.id);"},{"type":"INSERT","lineNumber":101,"content":"\t}"},{"type":"INSERT","lineNumber":102,"content":"}"},{"type":"INSERT","lineNumber":103,"content":""}]},{"timestamp":1761634652836,"changes":[{"type":"INSERT","lineNumber":18,"content":""},{"type":"DELETE","lineNumber":20,"oldContent":""},{"type":"MODIFY","lineNumber":25,"content":"","oldContent":"\tprivate String email;"},{"type":"MODIFY","lineNumber":27,"content":"","oldContent":"\t@JsonIgnore"},{"type":"MODIFY","lineNumber":38,"content":"\t\tList<GrantedAuthority> authorities = user.getRoles().stream()","oldContent":"\t\tList<GrantedAuthority> authorities = user.getRoles().stream()"},{"type":"DELETE","lineNumber":45,"oldContent":"\t\t\t\tuser.getEmail(),"},{"type":"MODIFY","lineNumber":54,"content":"\tpublic Long getId() {","oldContent":"\tpublic Long getId() {"},{"type":"DELETE","lineNumber":58,"oldContent":"\t@Override"},{"type":"INSERT","lineNumber":57,"content":""},{"type":"DELETE","lineNumber":67,"oldContent":"\t\treturn email;"},{"type":"INSERT","lineNumber":66,"content":""},{"type":"MODIFY","lineNumber":94,"content":"\t\tif (this == o)","oldContent":"\t\t\treturn false;"},{"type":"INSERT","lineNumber":95,"content":"\t\t\treturn true;"},{"type":"INSERT","lineNumber":96,"content":"\t\tif (o == null || getClass() != o.getClass())"},{"type":"INSERT","lineNumber":97,"content":"\t\t\treturn false;"},{"type":"DELETE","lineNumber":98,"oldContent":"\t\tif (this == o)"},{"type":"DELETE","lineNumber":101,"oldContent":"\t\t\treturn true;"},{"type":"DELETE","lineNumber":103,"oldContent":"\t\tif (o == null || getClass() != o.getClass())"}]},{"timestamp":1761634661462,"changes":[{"type":"MODIFY","lineNumber":14,"content":"public class UserDetailsImpl implements UserDetails {","oldContent":""},{"type":"DELETE","lineNumber":32,"oldContent":"\t\tthis.email = email;"},{"type":"INSERT","lineNumber":36,"content":"\tpublic static UserDetailsImpl build(AppUser user) {"},{"type":"DELETE","lineNumber":38,"oldContent":"\t\tList<GrantedAuthority> authorities = user.getRoles().stream()"},{"type":"MODIFY","lineNumber":53,"content":"\tpublic Long getId() {","oldContent":"\tpublic Long getId() {"},{"type":"MODIFY","lineNumber":56,"content":"","oldContent":""},{"type":"MODIFY","lineNumber":65,"content":"","oldContent":""},{"type":"INSERT","lineNumber":92,"content":"\tpublic boolean equals(Object o) {"},{"type":"DELETE","lineNumber":95,"oldContent":"\tpublic boolean equals(Object o) {"},{"type":"MODIFY","lineNumber":97,"content":"\t\tUserDetailsImpl user = (UserDetailsImpl) o;","oldContent":"\t\tUserDetailsImpl user = (UserDetailsImpl) o;"}]},{"timestamp":1761634663824,"changes":[{"type":"MODIFY","lineNumber":28,"content":"\tpublic UserDetailsImpl(Long id, String username, String password,","oldContent":"\tpublic UserDetailsImpl(Long id, String username, String email, String password,"},{"type":"MODIFY","lineNumber":36,"content":"\tpublic static UserDetailsImpl build(AppUser user) {","oldContent":"\tpublic static UserDetailsImpl build(AppUser user) {"},{"type":"MODIFY","lineNumber":53,"content":"\tpublic Long getId() {","oldContent":"\tpublic Long getId() {"},{"type":"MODIFY","lineNumber":56,"content":"","oldContent":""},{"type":"MODIFY","lineNumber":65,"content":"","oldContent":""},{"type":"MODIFY","lineNumber":92,"content":"\tpublic boolean equals(Object o) {","oldContent":"\tpublic boolean equals(Object o) {"},{"type":"MODIFY","lineNumber":97,"content":"\t\tUserDetailsImpl user = (UserDetailsImpl) o;","oldContent":"\t\tUserDetailsImpl user = (UserDetailsImpl) o;"}]},{"timestamp":1761635041604,"changes":[{"type":"DELETE","lineNumber":9,"oldContent":"import java.util.Collections;"},{"type":"INSERT","lineNumber":34,"content":""},{"type":"DELETE","lineNumber":36,"oldContent":"\tpublic static UserDetailsImpl build(AppUser user) {"},{"type":"INSERT","lineNumber":51,"content":""},{"type":"DELETE","lineNumber":53,"oldContent":"\tpublic Long getId() {"},{"type":"INSERT","lineNumber":54,"content":"\t}"},{"type":"DELETE","lineNumber":56,"oldContent":""},{"type":"INSERT","lineNumber":63,"content":"\t}"},{"type":"DELETE","lineNumber":65,"oldContent":""},{"type":"INSERT","lineNumber":90,"content":"\t@Override"},{"type":"DELETE","lineNumber":92,"oldContent":"\tpublic boolean equals(Object o) {"},{"type":"INSERT","lineNumber":95,"content":"\t\t\treturn false;"},{"type":"DELETE","lineNumber":97,"oldContent":"\t\tUserDetailsImpl user = (UserDetailsImpl) o;"}]},{"timestamp":1761678782297,"changes":[{"type":"DELETE","lineNumber":20,"oldContent":"\tprivate String email;"},{"type":"DELETE","lineNumber":21,"oldContent":""},{"type":"MODIFY","lineNumber":32,"content":"","oldContent":""},{"type":"MODIFY","lineNumber":49,"content":"","oldContent":""},{"type":"MODIFY","lineNumber":52,"content":"\t}","oldContent":"\t}"},{"type":"MODIFY","lineNumber":61,"content":"\t}","oldContent":"\t}"},{"type":"MODIFY","lineNumber":88,"content":"\t@Override","oldContent":"\t@Override"},{"type":"MODIFY","lineNumber":93,"content":"\t\t\treturn false;","oldContent":"\t\t\treturn false;"}]},{"timestamp":1761678788097,"changes":[{"type":"INSERT","lineNumber":2,"content":"import com.capstone.tele_ticketing_backend_1.entities.AppUser;"},{"type":"DELETE","lineNumber":3,"oldContent":"import com.prodapt.springsecurityusingjwtexample.entities.UserEntity;"},{"type":"DELETE","lineNumber":30,"oldContent":""},{"type":"DELETE","lineNumber":31,"oldContent":""},{"type":"INSERT","lineNumber":30,"content":"\t\tthis.authorities = authorities;"},{"type":"INSERT","lineNumber":32,"content":""},{"type":"DELETE","lineNumber":47,"oldContent":""},{"type":"DELETE","lineNumber":48,"oldContent":""},{"type":"INSERT","lineNumber":47,"content":"\t\treturn authorities;"},{"type":"DELETE","lineNumber":50,"oldContent":"\t}"},{"type":"DELETE","lineNumber":51,"oldContent":"\t}"},{"type":"DELETE","lineNumber":52,"oldContent":"\t\treturn id;"},{"type":"DELETE","lineNumber":54,"oldContent":"\tpublic String getEmail() {"},{"type":"DELETE","lineNumber":55,"oldContent":"\t\treturn email;"},{"type":"INSERT","lineNumber":50,"content":"\tpublic Long getId() {"},{"type":"INSERT","lineNumber":51,"content":"\t\treturn id;"},{"type":"DELETE","lineNumber":59,"oldContent":"\t}"},{"type":"DELETE","lineNumber":60,"oldContent":"\t}"},{"type":"INSERT","lineNumber":55,"content":"\tpublic String getPassword() {"},{"type":"INSERT","lineNumber":57,"content":"\t}"},{"type":"DELETE","lineNumber":86,"oldContent":"\t@Override"},{"type":"DELETE","lineNumber":87,"oldContent":"\t@Override"},{"type":"INSERT","lineNumber":82,"content":"\t}"},{"type":"INSERT","lineNumber":84,"content":"\t@Override"},{"type":"DELETE","lineNumber":91,"oldContent":"\t\t\treturn false;"},{"type":"DELETE","lineNumber":92,"oldContent":"\t\t\treturn false;"},{"type":"INSERT","lineNumber":87,"content":"\t\t\treturn true;"},{"type":"INSERT","lineNumber":89,"content":"\t\t\treturn false;"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/service/UserDetailsServiceImpl.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/service/UserDetailsServiceImpl.java","baseContent":"package com.capstone.tele_ticketing_backend_1.security.service;\n\nimport com.capstone.tele_ticketing_backend_1.entities.AppUser;\nimport com.capstone.tele_ticketing_backend_1.repo.UserRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n  @Autowired\n  private UserRepo userRepository;\n\n  @Override\n  @Transactional\n  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    AppUser user = userRepository.findByUsername(username)\n        .orElseThrow(() -> new UsernameNotFoundException(\"User Not Found with username: \" + username));\n\n    return UserDetailsImpl.build(user);\n  }\n}","baseTimestamp":1761626959741,"deltas":[{"timestamp":1761632031021,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":"import com.capstone.tele_ticketing_backend_1.entities.AppUser;"},{"type":"DELETE","lineNumber":3,"oldContent":"import com.capstone.tele_ticketing_backend_1.repo.UserRepo;"},{"type":"INSERT","lineNumber":2,"content":""},{"type":"INSERT","lineNumber":3,"content":"import com.prodapt.springsecurityusingjwtexample.entities.UserEntity;"},{"type":"INSERT","lineNumber":4,"content":"import com.prodapt.springsecurityusingjwtexample.repositories.UserRepository;"},{"type":"INSERT","lineNumber":5,"content":""},{"type":"INSERT","lineNumber":13,"content":"import com.capstone.tele_ticketing_backend_1.repo.UserRepo;"},{"type":"INSERT","lineNumber":14,"content":""},{"type":"INSERT","lineNumber":15,"content":""},{"type":"DELETE","lineNumber":19,"oldContent":"    AppUser user = userRepository.findByUsername(username)"},{"type":"INSERT","lineNumber":24,"content":"    UserEntity user = userRepository.findByUsername(username)"},{"type":"DELETE","lineNumber":22,"oldContent":"    return UserDetailsImpl.build(user);"},{"type":"INSERT","lineNumber":27,"content":"        return UserDetailsImpl.build(user);"},{"type":"INSERT","lineNumber":29,"content":""}]},{"timestamp":1761632035056,"changes":[{"type":"INSERT","lineNumber":3,"content":"import com.capstone.tele_ticketing_backend_1.entities.AppUser;"},{"type":"DELETE","lineNumber":5,"oldContent":"import org.springframework.beans.factory.annotation.Autowired;"},{"type":"INSERT","lineNumber":7,"content":"import org.springframework.beans.factory.annotation.Autowired;"},{"type":"INSERT","lineNumber":14,"content":"import com.capstone.tele_ticketing_backend_1.repo.UserRepo;"},{"type":"INSERT","lineNumber":15,"content":""},{"type":"INSERT","lineNumber":16,"content":""},{"type":"DELETE","lineNumber":15,"oldContent":"import com.capstone.tele_ticketing_backend_1.repo.UserRepo;"},{"type":"DELETE","lineNumber":17,"oldContent":""},{"type":"DELETE","lineNumber":20,"oldContent":""},{"type":"INSERT","lineNumber":25,"content":"    AppUser user = userRepository.findByUsername(username)"},{"type":"INSERT","lineNumber":28,"content":"        return UserDetailsImpl.build(user);"},{"type":"DELETE","lineNumber":27,"oldContent":"    UserEntity user = userRepository.findByUsername(username)"},{"type":"DELETE","lineNumber":28,"oldContent":"}"},{"type":"DELETE","lineNumber":30,"oldContent":"        return UserDetailsImpl.build(user);"},{"type":"INSERT","lineNumber":31,"content":"}"}]},{"timestamp":1761632047760,"changes":[{"type":"DELETE","lineNumber":4,"oldContent":"import com.prodapt.springsecurityusingjwtexample.entities.UserEntity;"},{"type":"DELETE","lineNumber":5,"oldContent":"import com.prodapt.springsecurityusingjwtexample.repositories.UserRepository;"},{"type":"DELETE","lineNumber":14,"oldContent":"@Service"},{"type":"DELETE","lineNumber":16,"oldContent":"public class UserDetailsServiceImpl implements UserDetailsService {"},{"type":"INSERT","lineNumber":15,"content":"@Service"},{"type":"INSERT","lineNumber":16,"content":"public class UserDetailsServiceImpl implements UserDetailsService {"},{"type":"MODIFY","lineNumber":24,"content":"        .orElseThrow(() -> new UsernameNotFoundException(\"User Not Found with username: \" + username));","oldContent":"        .orElseThrow(() -> new UsernameNotFoundException(\"User Not Found with username: \" + username));"},{"type":"MODIFY","lineNumber":27,"content":"  }","oldContent":"  }"}]},{"timestamp":1761632071374,"changes":[{"type":"DELETE","lineNumber":2,"oldContent":""},{"type":"DELETE","lineNumber":12,"oldContent":"@Service"},{"type":"MODIFY","lineNumber":14,"content":"@Service","oldContent":"public class UserDetailsServiceImpl implements UserDetailsService {"},{"type":"INSERT","lineNumber":15,"content":"public class UserDetailsServiceImpl implements UserDetailsService {"},{"type":"DELETE","lineNumber":22,"oldContent":"        .orElseThrow(() -> new UsernameNotFoundException(\"User Not Found with username: \" + username));"},{"type":"DELETE","lineNumber":23,"oldContent":"        .orElseThrow(() -> new UsernameNotFoundException(\"User Not Found with username: \" + username));"},{"type":"INSERT","lineNumber":21,"content":"  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {"},{"type":"DELETE","lineNumber":25,"oldContent":"  }"},{"type":"DELETE","lineNumber":26,"oldContent":"  }"},{"type":"INSERT","lineNumber":23,"content":"        .orElseThrow(() -> new UsernameNotFoundException(\"User Not Found with username: \" + username));"},{"type":"INSERT","lineNumber":24,"content":""},{"type":"INSERT","lineNumber":26,"content":"  }"}]},{"timestamp":1761638994673,"changes":[{"type":"DELETE","lineNumber":12,"oldContent":"@Service"},{"type":"DELETE","lineNumber":13,"oldContent":"public class UserDetailsServiceImpl implements UserDetailsService {"},{"type":"INSERT","lineNumber":14,"content":"@Service"},{"type":"INSERT","lineNumber":15,"content":"public class UserDetailsServiceImpl implements UserDetailsService {"},{"type":"INSERT","lineNumber":19,"content":""},{"type":"DELETE","lineNumber":20,"oldContent":"  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {"},{"type":"INSERT","lineNumber":22,"content":"  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {"},{"type":"INSERT","lineNumber":23,"content":"    AppUser user = userRepository.findByUsername(username)"},{"type":"DELETE","lineNumber":24,"oldContent":"    AppUser user = userRepository.findByUsername(username)"},{"type":"DELETE","lineNumber":25,"oldContent":"  }"},{"type":"INSERT","lineNumber":27,"content":"  }"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/payload/response/JwtResponse.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/payload/response/JwtResponse.java","baseContent":"package com.capstone.tele_ticketing_backend_1.security.payload.response;\n\nimport lombok.*;\nimport lombok.ToString.Exclude;\n\nimport java.util.List;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class JwtResponse {\n\tprivate String accessToken;\n\tprivate String tokenType = \"Bearer\";\n\tprivate Long id;\n\tprivate String username;\n\t@Exclude\n\tprivate List<String> roles;\n\n\tpublic JwtResponse(String accessToken, Long id, String username, String email, List<String> roles) {\n\t\tthis.accessToken = accessToken;\n\t\tthis.id = id;\n\t\tthis.username = username;\n\t\tthis.email = email;\n\t\tthis.roles = roles;\n\t}\n}","baseTimestamp":1761628377267,"deltas":[{"timestamp":1761628391503,"changes":[{"type":"MODIFY","lineNumber":18,"content":"\tprivate String role;","oldContent":"\tprivate List<String> roles;"}]},{"timestamp":1761628398393,"changes":[{"type":"MODIFY","lineNumber":20,"content":"\tpublic JwtResponse(String accessToken, Long id, String username, List<String> roles) {","oldContent":"\tpublic JwtResponse(String accessToken, Long id, String username, String email, List<String> roles) {"}]},{"timestamp":1761628401391,"changes":[{"type":"MODIFY","lineNumber":20,"content":"\tpublic JwtResponse(String accessToken, Long id, String username) {","oldContent":"\tpublic JwtResponse(String accessToken, Long id, String username, List<String> roles) {"}]},{"timestamp":1761628407445,"changes":[{"type":"DELETE","lineNumber":24,"oldContent":"\t\tthis.email = email;"},{"type":"DELETE","lineNumber":25,"oldContent":"\t\tthis.roles = roles;"}]},{"timestamp":1761678702909,"changes":[{"type":"MODIFY","lineNumber":20,"content":"\tpublic JwtResponse(String accessToken, Long id, String username, String role) {","oldContent":"\tpublic JwtResponse(String accessToken, Long id, String username) {"},{"type":"INSERT","lineNumber":24,"content":"\t\tthis.role = role;"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/payload/request/SignupRequest.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/security/payload/request/SignupRequest.java","baseContent":"package com.capstone.tele_ticketing_backend_1.security.payload.request;\n\nimport jakarta.validation.constraints.Email;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.Size;\nimport lombok.*;\n\nimport java.util.Set;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class SignupRequest {\n\t@NotBlank\n\t@Size(min = 3, max = 20)\n\tprivate String username;\n\n\t@NotBlank\n\t@Size(max = 50)\n\t@Email\n\tprivate String email;\n\n\tprivate Set<String> role;\n\n\t@NotBlank\n\t@Size(min = 6, max = 40)\n\tprivate String password;\n\t\n\t@NotBlank\n\t@Size(max = 10)\n\tprivate String mobile;\n\t\n\n}","baseTimestamp":1761641428133,"deltas":[{"timestamp":1761641431651,"changes":[{"type":"DELETE","lineNumber":30,"oldContent":"\t@NotBlank"},{"type":"DELETE","lineNumber":31,"oldContent":"\t@Size(max = 10)"},{"type":"DELETE","lineNumber":32,"oldContent":"\tprivate String mobile;"},{"type":"DELETE","lineNumber":33,"oldContent":"\t"}]},{"timestamp":1761641434827,"changes":[{"type":"INSERT","lineNumber":18,"content":"\t"},{"type":"DELETE","lineNumber":19,"oldContent":"\t@NotBlank"},{"type":"DELETE","lineNumber":20,"oldContent":"\t@Size(max = 50)"},{"type":"DELETE","lineNumber":21,"oldContent":"\t@Email"},{"type":"DELETE","lineNumber":22,"oldContent":"\tprivate String email;"},{"type":"DELETE","lineNumber":23,"oldContent":""}]},{"timestamp":1761641440463,"changes":[{"type":"MODIFY","lineNumber":26,"content":"","oldContent":"\t"}]},{"timestamp":1761641510430,"changes":[{"type":"MODIFY","lineNumber":19,"content":"","oldContent":"\t"},{"type":"MODIFY","lineNumber":26,"content":"","oldContent":"\t"}]},{"timestamp":1761643398056,"changes":[{"type":"INSERT","lineNumber":19,"content":"\t@NotBlank"},{"type":"INSERT","lineNumber":20,"content":"\tprivate String fullname;"},{"type":"INSERT","lineNumber":22,"content":""},{"type":"DELETE","lineNumber":25,"oldContent":"\t"},{"type":"INSERT","lineNumber":29,"content":""}]},{"timestamp":1761643400079,"changes":[{"type":"MODIFY","lineNumber":21,"content":"\t","oldContent":""},{"type":"DELETE","lineNumber":24,"oldContent":""},{"type":"MODIFY","lineNumber":29,"content":"}","oldContent":"}"}]},{"timestamp":1761643498238,"changes":[{"type":"MODIFY","lineNumber":18,"content":"","oldContent":"\t"},{"type":"INSERT","lineNumber":20,"content":"\tprivate String fullname;"},{"type":"DELETE","lineNumber":21,"oldContent":"\t"},{"type":"MODIFY","lineNumber":29,"content":"}","oldContent":"}"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/controller/TestController.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/controller/TestController.java","baseContent":"package com.capstone.tele_ticketing_backend_1.controller;\n\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class TestController {\n    \n    @GetMapping(\"/\")\n}\n","baseTimestamp":1761645942288,"deltas":[{"timestamp":1761645965444,"changes":[{"type":"MODIFY","lineNumber":9,"content":"    @GetMapping(\"/greet\")","oldContent":"    @GetMapping(\"/\")"},{"type":"INSERT","lineNumber":10,"content":"    public String getGreet(){"},{"type":"INSERT","lineNumber":11,"content":"        return \"hello, working\";"},{"type":"INSERT","lineNumber":12,"content":"    }"}]},{"timestamp":1761646017335,"changes":[{"type":"MODIFY","lineNumber":8,"content":"","oldContent":"    "},{"type":"DELETE","lineNumber":11,"oldContent":"}"},{"type":"MODIFY","lineNumber":13,"content":"}","oldContent":""},{"type":"INSERT","lineNumber":14,"content":""}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/dto/TicketCreationReq.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/dto/TicketCreationReq.java","baseContent":"package com.capstone.tele_ticketing_backend_1.dto;\n\npublic class TicketCreationReqDTO {\n}\n","baseTimestamp":1761647744416,"deltas":[{"timestamp":1761647752583,"changes":[{"type":"INSERT","lineNumber":3,"content":"    @NotBlank(message = \"Ticket UID is required\")"},{"type":"INSERT","lineNumber":4,"content":"    @Size(max = 50, message = \"Ticket UID must not exceed 50 characters\")"},{"type":"INSERT","lineNumber":5,"content":"    private String ticketUid;"},{"type":"INSERT","lineNumber":6,"content":""},{"type":"INSERT","lineNumber":7,"content":"    @NotBlank(message = \"Title is required\")"},{"type":"INSERT","lineNumber":8,"content":"    private String title;"},{"type":"INSERT","lineNumber":9,"content":""},{"type":"INSERT","lineNumber":10,"content":"    private String description; // optional"},{"type":"INSERT","lineNumber":11,"content":""},{"type":"INSERT","lineNumber":12,"content":"    @NotBlank(message = \"Status is required\")"},{"type":"INSERT","lineNumber":13,"content":"    @Size(max = 50, message = \"Status must not exceed 50 characters\")"},{"type":"INSERT","lineNumber":14,"content":"    private String status;"},{"type":"INSERT","lineNumber":15,"content":""},{"type":"INSERT","lineNumber":16,"content":"    @NotBlank(message = \"Priority is required\")"},{"type":"INSERT","lineNumber":17,"content":"    @Size(max = 50, message = \"Priority must not exceed 50 characters\")"},{"type":"INSERT","lineNumber":18,"content":"    private String priority;"},{"type":"INSERT","lineNumber":19,"content":""},{"type":"INSERT","lineNumber":20,"content":"    @NotBlank(message = \"Severity is required\")"},{"type":"INSERT","lineNumber":21,"content":"    @Size(max = 50, message = \"Severity must not exceed 50 characters\")"},{"type":"INSERT","lineNumber":22,"content":"    private String severity;"},{"type":"INSERT","lineNumber":23,"content":""},{"type":"INSERT","lineNumber":24,"content":"    private String category; // optional"},{"type":"INSERT","lineNumber":25,"content":"    private String subCategory; // optional"},{"type":"INSERT","lineNumber":26,"content":"    private Integer slaDurationHours; // optional"},{"type":"INSERT","lineNumber":27,"content":""},{"type":"INSERT","lineNumber":28,"content":"    @NotNull(message = \"Customer ID is required\")"},{"type":"INSERT","lineNumber":29,"content":"    private Long customerId;"},{"type":"INSERT","lineNumber":30,"content":""},{"type":"INSERT","lineNumber":31,"content":"    @NotNull(message = \"Created By User ID is required\")"},{"type":"INSERT","lineNumber":32,"content":"    private Long createdById;"},{"type":"INSERT","lineNumber":33,"content":""},{"type":"INSERT","lineNumber":34,"content":"    // optional fields"},{"type":"INSERT","lineNumber":35,"content":"    private String issueDate; // can be sent as IS"}]},{"timestamp":1761647759379,"changes":[{"type":"INSERT","lineNumber":2,"content":"import jakarta.validation.constraints.NotBlank;"},{"type":"INSERT","lineNumber":3,"content":""},{"type":"DELETE","lineNumber":4,"oldContent":"}"},{"type":"DELETE","lineNumber":6,"oldContent":""},{"type":"DELETE","lineNumber":8,"oldContent":"    private String issueDate; // can be sent as IS"},{"type":"DELETE","lineNumber":10,"oldContent":"    // optional fields"},{"type":"DELETE","lineNumber":12,"oldContent":""},{"type":"DELETE","lineNumber":14,"oldContent":"    private Long createdById;"},{"type":"DELETE","lineNumber":16,"oldContent":"    @NotNull(message = \"Created By User ID is required\")"},{"type":"DELETE","lineNumber":19,"oldContent":""},{"type":"DELETE","lineNumber":20,"oldContent":"    private Long customerId;"},{"type":"DELETE","lineNumber":22,"oldContent":"    @NotNull(message = \"Customer ID is required\")"},{"type":"DELETE","lineNumber":24,"oldContent":""},{"type":"DELETE","lineNumber":26,"oldContent":"    private Integer slaDurationHours; // optional"},{"type":"DELETE","lineNumber":28,"oldContent":"    private String subCategory; // optional"},{"type":"DELETE","lineNumber":30,"oldContent":"    private String category; // optional"},{"type":"DELETE","lineNumber":32,"oldContent":""},{"type":"DELETE","lineNumber":34,"oldContent":"    private String severity;"},{"type":"DELETE","lineNumber":36,"oldContent":"    @Size(max = 50, message = \"Severity must not exceed 50 characters\")"},{"type":"INSERT","lineNumber":23,"content":"    @Size(max = 50, message = \"Severity must not exceed 50 characters\")"},{"type":"INSERT","lineNumber":24,"content":"    private String severity;"},{"type":"INSERT","lineNumber":25,"content":""},{"type":"INSERT","lineNumber":26,"content":"    private String category; // optional"},{"type":"INSERT","lineNumber":27,"content":"    private String subCategory; // optional"},{"type":"INSERT","lineNumber":28,"content":"    private Integer slaDurationHours; // optional"},{"type":"INSERT","lineNumber":29,"content":""},{"type":"INSERT","lineNumber":30,"content":"    @NotNull(message = \"Customer ID is required\")"},{"type":"INSERT","lineNumber":31,"content":"    private Long customerId;"},{"type":"INSERT","lineNumber":32,"content":""},{"type":"INSERT","lineNumber":33,"content":"    @NotNull(message = \"Created By User ID is required\")"},{"type":"INSERT","lineNumber":34,"content":"    private Long createdById;"},{"type":"INSERT","lineNumber":35,"content":""},{"type":"INSERT","lineNumber":36,"content":"    // optional fields"},{"type":"INSERT","lineNumber":37,"content":"    private String issueDate; // can be sent as IS"},{"type":"INSERT","lineNumber":38,"content":"}"},{"type":"INSERT","lineNumber":39,"content":""}]},{"timestamp":1761647763056,"changes":[{"type":"MODIFY","lineNumber":3,"content":"import jakarta.validation.constraints.Size;","oldContent":"public class TicketCreationReqDTO {"},{"type":"INSERT","lineNumber":5,"content":"public class TicketCreationReqDTO {"},{"type":"DELETE","lineNumber":15,"oldContent":"    @Size(max = 50, message = \"Severity must not exceed 50 characters\")"},{"type":"INSERT","lineNumber":17,"content":"    private String status;"},{"type":"INSERT","lineNumber":18,"content":""},{"type":"INSERT","lineNumber":19,"content":"    @NotBlank(message = \"Priority is required\")"},{"type":"INSERT","lineNumber":20,"content":"    @Size(max = 50, message = \"Priority must not exceed 50 characters\")"},{"type":"INSERT","lineNumber":21,"content":"    private String priority;"},{"type":"INSERT","lineNumber":22,"content":""},{"type":"INSERT","lineNumber":23,"content":"    @NotBlank(message = \"Severity is required\")"},{"type":"INSERT","lineNumber":24,"content":"    @Size(max = 50, message = \"Severity must not exceed 50 characters\")"},{"type":"DELETE","lineNumber":19,"oldContent":"    private String status;"},{"type":"DELETE","lineNumber":22,"oldContent":""},{"type":"DELETE","lineNumber":25,"oldContent":"    @NotBlank(message = \"Priority is required\")"},{"type":"DELETE","lineNumber":28,"oldContent":"    @Size(max = 50, message = \"Priority must not exceed 50 characters\")"},{"type":"DELETE","lineNumber":31,"oldContent":"    private String priority;"},{"type":"DELETE","lineNumber":34,"oldContent":""},{"type":"DELETE","lineNumber":37,"oldContent":"    @NotBlank(message = \"Severity is required\")"}]},{"timestamp":1761647766189,"changes":[{"type":"INSERT","lineNumber":5,"content":""},{"type":"DELETE","lineNumber":18,"oldContent":"    private String severity;"},{"type":"DELETE","lineNumber":20,"oldContent":""},{"type":"DELETE","lineNumber":23,"oldContent":"    private String category; // optional"},{"type":"DELETE","lineNumber":25,"oldContent":"    private String subCategory; // optional"},{"type":"DELETE","lineNumber":28,"oldContent":"    private Integer slaDurationHours; // optional"},{"type":"INSERT","lineNumber":26,"content":"    private String severity;"},{"type":"INSERT","lineNumber":28,"content":"    private String category; // optional"},{"type":"INSERT","lineNumber":29,"content":"    private String subCategory; // optional"},{"type":"INSERT","lineNumber":30,"content":"    private Integer slaDurationHours; // optional"},{"type":"INSERT","lineNumber":31,"content":""}]},{"timestamp":1761647771834,"changes":[{"type":"INSERT","lineNumber":4,"content":"import lombok.Data;"},{"type":"DELETE","lineNumber":5,"oldContent":""},{"type":"INSERT","lineNumber":6,"content":"@Data"},{"type":"DELETE","lineNumber":23,"oldContent":"    private String severity;"},{"type":"INSERT","lineNumber":26,"content":"    @Size(max = 50, message = \"Severity must not exceed 50 characters\")"},{"type":"INSERT","lineNumber":27,"content":"    private String severity;"},{"type":"INSERT","lineNumber":28,"content":""},{"type":"DELETE","lineNumber":28,"oldContent":"    @Size(max = 50, message = \"Severity must not exceed 50 characters\")"},{"type":"DELETE","lineNumber":31,"oldContent":""}]},{"timestamp":1761647796698,"changes":[{"type":"INSERT","lineNumber":3,"content":"import jakarta.validation.constraints.NotNull;"},{"type":"DELETE","lineNumber":27,"oldContent":"    private String category; // optional"},{"type":"MODIFY","lineNumber":30,"content":"    private String category; // optional","oldContent":"    private String subCategory; // optional"},{"type":"INSERT","lineNumber":31,"content":"    private String subCategory; // optional"}]},{"timestamp":1761648022282,"changes":[{"type":"INSERT","lineNumber":15,"content":"    "},{"type":"DELETE","lineNumber":16,"oldContent":"    private String description; // optional"},{"type":"DELETE","lineNumber":17,"oldContent":""},{"type":"DELETE","lineNumber":29,"oldContent":"    private String subCategory; // optional"},{"type":"INSERT","lineNumber":28,"content":""}]},{"timestamp":1761648039794,"changes":[{"type":"MODIFY","lineNumber":16,"content":"","oldContent":"    "},{"type":"MODIFY","lineNumber":28,"content":"","oldContent":""}]},{"timestamp":1761648935359,"changes":[{"type":"DELETE","lineNumber":9,"oldContent":"    @NotBlank(message = \"Ticket UID is required\")"},{"type":"DELETE","lineNumber":10,"oldContent":"    @Size(max = 50, message = \"Ticket UID must not exceed 50 characters\")"},{"type":"DELETE","lineNumber":11,"oldContent":"    private String ticketUid;"},{"type":"DELETE","lineNumber":15,"oldContent":"    "},{"type":"INSERT","lineNumber":13,"content":""},{"type":"INSERT","lineNumber":24,"content":"    private String severity;"},{"type":"DELETE","lineNumber":28,"oldContent":""}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/controller/TicketController.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/controller/TicketController.java","baseContent":"package com.capstone.tele_ticketing_backend_1.controller;\n\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class TicketController {\n}\n","baseTimestamp":1761647829615,"deltas":[{"timestamp":1761647956646,"changes":[{"type":"INSERT","lineNumber":2,"content":"import org.springframework.web.bind.annotation.PostMapping;"}]}]},"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/UserNotFoundException.java":{"filePath":"D:/tele_ticketing_backend_1/tele-ticketing-backend-1/src/main/java/com/capstone/tele_ticketing_backend_1/UserNotFoundException.java","baseContent":"package com.capstone.tele_ticketing_backend_1;\n\npublic class UserNotFoundException extends RuntimeException {\n    public UserNotFoundException(String message) {\n        super(message);\n    }\n}\n","baseTimestamp":1761712194373,"deltas":[{"timestamp":1761721272200,"changes":[{"type":"MODIFY","lineNumber":0,"content":"package com.capstone.tele_ticketing_backend_1.exceptions;","oldContent":"package com.capstone.tele_ticketing_backend_1;"}]}]}}}